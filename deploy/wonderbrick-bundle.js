(()=>{var vr=Object.create;var Re=Object.defineProperty;var gr=Object.getOwnPropertyDescriptor;var xr=Object.getOwnPropertyNames;var yr=Object.getPrototypeOf,br=Object.prototype.hasOwnProperty;var I=(e,t)=>()=>(e&&(t=e(e=0)),t);var ce=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),N=(e,t)=>{for(var n in t)Re(e,n,{get:t[n],enumerable:!0})},qt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xr(t))!br.call(e,s)&&s!==n&&Re(e,s,{get:()=>t[s],enumerable:!(r=gr(t,s))||r.enumerable});return e};var Gt=(e,t,n)=>(n=e!=null?vr(yr(e)):{},qt(t||!e||!e.__esModule?Re(n,"default",{value:e,enumerable:!0}):n,e)),B=e=>qt(Re({},"__esModule",{value:!0}),e);var Yt=I(()=>{});function Mr(e){console.log("Allocating temp mem:",e),X=e,S&&_free(S),S=_malloc(X),Ar()}function ht(e){X>=e||Mr(Math.ceil(e/1024)*1024)}function Ar(){g=new Float32Array(HEAP8.buffer,S,X>>2),tt=new Int32Array(HEAP8.buffer,S,X>>2),Q=new Uint32Array(HEAP8.buffer,S,X>>2),be=new Uint16Array(HEAP8.buffer,S,X>>1),sn=new Uint8Array(HEAP8.buffer,S,X)}function Tr(e){return ht(e*2),be}function Sr(e){return ht(e*4),g}function et(e){return e&&(typeof e=="string"||e.constructor===String)}function lt(e){let t=$t[e]||($t[e]=new Y(e));return t.objectId=e,t}function ke(e,t,n){if(n<0)return null;let r=Zt[t]||(Zt[t]=[]);if(r[n])return r[n];let s;if(e=="collision")s=new we(t,n);else if(e=="text")s=new nt(t,n);else if(e=="view")s=new rt(t,n);else if(e=="mesh")s=new ot(t,n);else if(e=="input")s=new it(t,n);else if(e=="light")s=new st(t,n);else if(e=="animation")s=new at(t,n);else if(e=="physx")s=new He(t,n);else{let o=_WL._componentTypeIndices[e],c=_WL._componentTypes[o];s=new c}return s._manager=t,s._id=n,r[n]=s,s}var Zt,$t,wr,j,q,We,Qt,Jt,Kt,$,en,tn,De,nn,_e,H,V,rn,Fe,le,S,X,g,tt,Q,be,sn,jr,W,we,nt,rt,it,st,at,ot,He,G,re,ct,ie,he,Me,Ir,de,Y,Be,an=I(()=>{Zt={},$t=[],wr=["_id","_manager","type","_type","active"];(function(e){e[e.Bool=2]="Bool",e[e.Int=4]="Int",e[e.Float=8]="Float",e[e.String=16]="String",e[e.Enum=32]="Enum",e[e.Object=64]="Object",e[e.Mesh=128]="Mesh",e[e.Texture=256]="Texture",e[e.Material=512]="Material",e[e.Animation=1024]="Animation",e[e.Skin=2048]="Skin"})(j||(j={}));q=new Array(6);q[j.Bool]=!1;q[j.Int]=0;q[j.Float]=0;q[j.String]="";q[j.Enum]=0;q[j.Object]=null;q[j.Mesh]=null;q[j.Texture]=null;q[j.Material]=null;q[j.Animation]=null;q[j.Skin]=null;(function(e){e[e.Sphere=0]="Sphere",e[e.AxisAlignedBox=1]="AxisAlignedBox",e[e.Box=2]="Box"})(We||(We={}));(function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right"})(Qt||(Qt={}));(function(e){e[e.Line=1]="Line",e[e.Middle=2]="Middle",e[e.Top=3]="Top",e[e.Bottom=4]="Bottom"})(Jt||(Jt={}));(function(e){e[e.None=0]="None",e[e.Outline=1]="Outline"})(Kt||(Kt={}));(function(e){e[e.Head=0]="Head",e[e.EyeLeft=1]="EyeLeft",e[e.EyeRight=2]="EyeRight",e[e.ControllerLeft=3]="ControllerLeft",e[e.ControllerRight=4]="ControllerRight",e[e.RayLeft=5]="RayLeft",e[e.RayRight=6]="RayRight"})($||($={}));(function(e){e[e.Point=1]="Point",e[e.Spot=2]="Spot",e[e.Sun=3]="Sun"})(en||(en={}));(function(e){e[e.Playing=1]="Playing",e[e.Paused=2]="Paused",e[e.Stopped=3]="Stopped"})(tn||(tn={}));(function(e){e[e.Force=0]="Force",e[e.Impulse=1]="Impulse",e[e.VelocityChange=2]="VelocityChange",e[e.Acceleration=3]="Acceleration"})(De||(De={}));(function(e){e[e.Touch=0]="Touch",e[e.TouchLost=1]="TouchLost",e[e.TriggerTouch=2]="TriggerTouch",e[e.TriggerTouchLost=3]="TriggerTouchLost"})(nn||(nn={}));(function(e){e[e.None=0]="None",e[e.Sphere=1]="Sphere",e[e.Capsule=2]="Capsule",e[e.Box=3]="Box",e[e.Plane=4]="Plane",e[e.ConvexMesh=5]="ConvexMesh",e[e.TriangleMesh=6]="TriangleMesh"})(_e||(_e={}));(function(e){e[e.Position=0]="Position",e[e.Tangent=1]="Tangent",e[e.Normal=2]="Normal",e[e.TextureCoordinate=3]="TextureCoordinate",e[e.Color=4]="Color",e[e.JointId=5]="JointId",e[e.JointWeight=6]="JointWeight",e[e.SecondaryJointId=7]="SecondaryJointId",e[e.SecondaryJointWeight=8]="SecondaryJointWeight"})(H||(H={}));(function(e){e[e.UnsignedInt=0]="UnsignedInt",e[e.Int=1]="Int",e[e.Float=2]="Float",e[e.Sampler=3]="Sampler",e[e.Font=4]="Font"})(V||(V={}));rn=null,le=[],S=null,X=0,g=null,tt=null,Q=null,be=null,sn=null;jr=[0,1,0],W=class{constructor(t=-1,n=-1){this._manager=t,this._id=n,this._object=null,this._type=null}get type(){return this._type||Y._typeNameFor(this._manager)}get object(){if(!this._object){let t=_wl_component_get_object(this._manager,this._id);this._object=lt(t)}return this._object}set active(t){_wl_component_setActive(this._manager,this._id,t)}get active(){return _wl_component_isActive(this._manager,this._id)!=0}destroy(){_wl_component_remove(this._manager,this._id),this._manager=void 0,this._id=void 0}equals(t){return t?this._manager==t._manager&&this._id==t._id:!1}},we=class extends W{get collider(){return _wl_collision_component_get_collider(this._id)}set collider(t){_wl_collision_component_set_collider(this._id,t)}get extents(){return new Float32Array(HEAPF32.buffer,_wl_collision_component_get_extents(this._id),3)}set extents(t){this.extents.set(t)}get group(){return _wl_collision_component_get_group(this._id)}set group(t){_wl_collision_component_set_group(this._id,t)}queryOverlaps(){let t=_wl_collision_component_query_overlaps(this._id,S,X>>1),n=new Array(t);for(let r=0;r<t;++r)n[r]=new we(this._manager,be[r]);return n}},nt=class extends W{get alignment(){return _wl_text_component_get_horizontal_alignment(this._id)}set alignment(t){_wl_text_component_set_horizontal_alignment(this._id,t)}get justification(){return _wl_text_component_get_vertical_alignment(this._id)}set justification(t){_wl_text_component_set_vertical_alignment(this._id,t)}get characterSpacing(){return _wl_text_component_get_character_spacing(this._id)}set characterSpacing(t){_wl_text_component_set_character_spacing(this._id,t)}get lineSpacing(){return _wl_text_component_get_line_spacing(this._id)}set lineSpacing(t){_wl_text_component_set_line_spacing(this._id,t)}get effect(){return _wl_text_component_get_effect(this._id)}set effect(t){_wl_text_component_set_effect(this._id,t)}get text(){return UTF8ToString(_wl_text_component_get_text(this._id))}set text(t){let n=lengthBytesUTF8(t)+1,r=_malloc(n);stringToUTF8(t,r,n),_wl_text_component_set_text(this._id,r),_free(r)}set material(t){let n=t?t._index:0;_wl_text_component_set_material(this._id,n)}get material(){let t=_wl_text_component_get_material(this._id);return t>0?new ie(t):null}},rt=class extends W{get projectionMatrix(){return new Float32Array(HEAPF32.buffer,_wl_view_component_get_projection_matrix(this._id),16)}get near(){return _wl_view_component_get_near(this._id)}set near(t){_wl_view_component_set_near(this._id,t)}get far(){return _wl_view_component_get_far(this._id)}set far(t){_wl_view_component_set_far(this._id,t)}get fov(){return _wl_view_component_get_fov(this._id)}set fov(t){_wl_view_component_set_fov(this._id,t)}},it=class extends W{get inputType(){return _wl_input_component_get_type(this._id)}set inputType(t){_wl_input_component_set_type(this._id,t)}get xrInputSource(){if(rn){for(let t of rn.inputSources)if(t.handedness==this.handedness)return t}return null}get handedness(){let t=this.inputType;return t==$.ControllerRight||t==$.RayRight||t==$.EyeRight?"right":t==$.ControllerLeft||t==$.RayLeft||t==$.EyeLeft?"left":null}},st=class extends W{get color(){return new Float32Array(HEAPF32.buffer,_wl_light_component_get_color(this._id),4)}get lightType(){return _wl_light_component_get_type(this._id)}set lightType(t){_wl_light_component_set_type(this._id,t)}},at=class extends W{set animation(t){_wl_animation_component_set_animation(this._id,t._index)}get animation(){return new de(_wl_animation_component_get_animation(this._id))}set playCount(t){_wl_animation_component_set_playCount(this._id,t)}get playCount(){return _wl_animation_component_get_playCount(this._id)}set speed(t){_wl_animation_component_set_speed(this._id,t)}get speed(){return _wl_animation_component_get_speed(this._id)}get state(){return _wl_animation_component_state(this._id)}play(){_wl_animation_component_play(this._id)}stop(){_wl_animation_component_stop(this._id)}pause(){_wl_animation_component_pause(this._id)}},ot=class extends W{set material(t){_wl_mesh_component_set_material(this._id,t?t._index:0)}get material(){let t=_wl_mesh_component_get_material(this._id);return t>0?new ie(t):null}get mesh(){return new re(_wl_mesh_component_get_mesh(this._id))}set mesh(t){_wl_mesh_component_set_mesh(this._id,t?t._index:0)}get skin(){return new Be(_wl_mesh_component_get_skin(this._id))}set skin(t){_wl_mesh_component_set_skin(this._id,t._index)}},He=class extends W{set static(t){_wl_physx_component_set_static(this._id,t)}get static(){return!!_wl_physx_component_get_static(this._id)}set kinematic(t){_wl_physx_component_set_kinematic(this._id,t)}get kinematic(){return!!_wl_physx_component_get_kinematic(this._id)}set shape(t){_wl_physx_component_set_shape(this._id,t)}get shape(){return _wl_physx_component_get_shape(this._id)}set shapeData(t){t==null||![_e.TriangleMesh,_e.ConvexMesh].includes(this.shape)||_wl_physx_component_set_shape_data(this._id,t.index)}get shapeData(){return[_e.TriangleMesh,_e.ConvexMesh].includes(this.shape)?{index:_wl_physx_component_get_shape_data(this._id)}:null}set extents(t){this.extents.set(t)}get extents(){let t=_wl_physx_component_get_extents(this._id);return new Float32Array(HEAPF32.buffer,t,3)}get staticFriction(){return _wl_physx_component_get_staticFriction(this._id)}set staticFriction(t){_wl_physx_component_set_staticFriction(this._id,t)}get dynamicFriction(){return _wl_physx_component_get_dynamicFriction(this._id)}set dynamicFriction(t){_wl_physx_component_set_dynamicFriction(this._id,t)}get bounciness(){return _wl_physx_component_get_bounciness(this._id)}set bounciness(t){_wl_physx_component_set_bounciness(this._id,t)}get linearDamping(){return _wl_physx_component_get_linearDamping(this._id)}set linearDamping(t){_wl_physx_component_set_linearDamping(this._id,t)}get angularDamping(){return _wl_physx_component_get_angularDamping(this._id)}set angularDamping(t){_wl_physx_component_set_angularDamping(this._id,t)}set linearVelocity(t){_wl_physx_component_set_linearVelocity(this._id,t[0],t[1],t[2])}get linearVelocity(){return _wl_physx_component_get_linearVelocity(this._id,S),new Float32Array(HEAPF32.buffer,S,3)}set angularVelocity(t){_wl_physx_component_set_angularVelocity(this._id,t[0],t[1],t[2])}get angularVelocity(){return _wl_physx_component_get_angularVelocity(this._id,S),new Float32Array(HEAPF32.buffer,S,3)}set mass(t){_wl_physx_component_set_mass(this._id,t)}get mass(){return _wl_physx_component_get_mass(this._id)}set massSpaceInteriaTensor(t){_wl_physx_component_set_massSpaceInertiaTensor(this._id,t[0],t[1],t[2])}addForce(t,n,r,s,o){n=n||De.Force,s?_wl_physx_component_addForceAt(this._id,t[0],t[1],t[2],n,!!r,s[0],s[1],s[2],!!o):_wl_physx_component_addForce(this._id,t[0],t[1],t[2],n,!!r)}addTorque(t,n=De.Force){_wl_physx_component_addTorque(this._id,t[0],t[1],t[2],n)}onCollision(t){return this.onCollisionWith(this,t)}onCollisionWith(t,n){return Fe._callbacks[this._id]=Fe._callbacks[this._id]||[],Fe._callbacks[this._id].push(n),_wl_physx_component_addCallback(this._id,t._id||this._id)}removeCollisionCallback(t){let n=_wl_physx_component_removeCallback(this._id,t);n&&Fe._callbacks[this._id].splice(-n)}};for(let e of["static","extents","staticFriction","dynamicFriction","bounciness","linearDamping","angularDamping","shape","shapeData","kinematic","linearVelocity","angularVelocity","mass"])Object.defineProperty(He.prototype,e,{enumerable:!0});(function(e){e[e.UnsignedByte=1]="UnsignedByte",e[e.UnsignedShort=2]="UnsignedShort",e[e.UnsignedInt=4]="UnsignedInt"})(G||(G={}));re=class{static get VERTEX_FLOAT_SIZE(){return 3+3+2}static get VERTEX_SIZE(){return this.VERTEX_FLOAT_SIZE*4}static get POS(){return{X:0,Y:1,Z:2}}static get TEXCOORD(){return{U:3,V:4}}static get NORMAL(){return{X:5,Y:6,Z:7}}constructor(t){if(typeof t=="object"){if(!t.vertexCount&&t.vertexData&&(t.vertexCount=t.vertexData.length/re.VERTEX_FLOAT_SIZE),!t.vertexCount)throw new Error("Missing parameter 'vertexCount'");let n=0,r=0,s=0;if(t.indexData)switch(r=t.indexType||G.UnsignedShort,s=t.indexData.length*r,n=_malloc(s),r){case G.UnsignedByte:HEAPU8.set(t.indexData,n);break;case G.UnsignedShort:HEAPU16.set(t.indexData,n>>1);break;case G.UnsignedInt:HEAPU32.set(t.indexData,n>>2);break}let{skinned:o=!1}=t;if(this._index=_wl_mesh_create(n,s,r,t.vertexCount,o),t.vertexData){let c=this.attribute(H.Position),h=this.attribute(H.Normal),_=this.attribute(H.TextureCoordinate);for(let f=0;f<t.vertexCount;++f){let i=f*re.VERTEX_FLOAT_SIZE;c.set(f,t.vertexData.subarray(i,i+3)),_?.set(f,t.vertexData.subarray(i+3,i+5)),h?.set(f,t.vertexData.subarray(i+5,i+8))}}}else this._index=t}get vertexData(){let t=_wl_mesh_get_vertexData(this._index,S);return new Float32Array(HEAPF32.buffer,t,re.VERTEX_FLOAT_SIZE*HEAPU32[S/4])}get vertexCount(){return _wl_mesh_get_vertexCount(this._index)}get indexData(){let t=_wl_mesh_get_indexData(this._index,S,S+4);if(t===null)return null;let n=HEAPU32[S/4];switch(HEAPU32[S/4+1]){case G.UnsignedByte:return new Uint8Array(HEAPU8.buffer,t,n);case G.UnsignedShort:return new Uint16Array(HEAPU16.buffer,t,n);case G.UnsignedInt:return new Uint32Array(HEAPU32.buffer,t,n)}return null}update(){_wl_mesh_update(this._index)}getBoundingSphere(t=new Float32Array(4)){return _wl_mesh_get_boundingSphere(this._index,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t[3]=g[3],t}attribute(t){if(typeof t!="number")throw new TypeError("Expected number, but got "+typeof t);if(_wl_mesh_get_attribute(this._index,t,S),Q[0]==255)return null;let n=new ct(t);return n._attribute=Q[0],n._offset=Q[1],n._stride=Q[2],n._formatSize=Q[3],n._componentCount=Q[4],n.length=this.vertexCount,n}destroy(){_wl_mesh_destroy(this._index)}},ct=class{constructor(t=H.Position){switch(this._attribute=-1,this._offset=0,this._stride=0,this._formatSize=0,this._componentCount=0,this.length=0,t){case H.Position:case H.Normal:case H.TextureCoordinate:case H.Tangent:case H.Color:case H.JointWeight:case H.SecondaryJointWeight:this._bufferType=Float32Array,this._tempBufferGetter=Sr;break;case H.JointId:case H.SecondaryJointId:this._bufferType=Uint16Array,this._tempBufferGetter=Tr;break;default:throw new Error(`Invalid attribute accessor type: ${t}`)}}createArray(t=1){return t=t>this.length?this.length:t,new this._bufferType(t*this._componentCount)}get(t,n=this.createArray()){if(n.length%this._componentCount!==0)throw new Error(`out.length, ${n.length} is not a multiple of the attribute vector components, ${this._componentCount}`);let r=this._tempBufferGetter(n.length),s=this._bufferType.BYTES_PER_ELEMENT,o=s*n.length,c=this._componentCount*s;_wl_mesh_get_attribute_values(this._attribute,this._formatSize,this._offset+t*this._stride,this._stride,c,r.byteOffset,o);for(let h=0;h<n.length;++h)n[h]=r[h];return n}set(t,n){if(n.length%this._componentCount!==0)throw new Error(`out.length, ${n.length} is not a multiple of the attribute vector components, ${this._componentCount}`);let r=this._bufferType.BYTES_PER_ELEMENT,s=r*n.length,o=this._componentCount*r;if(n.buffer!=HEAPU8.buffer){let c=this._tempBufferGetter(n.length);c.set(n),n=c}return _wl_mesh_set_attribute_values(this._attribute,o,n.byteOffset,s,this._formatSize,this._offset+t*this._stride,this._stride),this}},ie=class{constructor(t){if(typeof t!="number"){if(!t?.pipeline)throw new Error("Missing parameter 'pipeline'");let n=t.pipeline,r=lengthBytesUTF8(n)+1;if(stringToUTF8(n,S,r),this._index=_wl_material_create(S),this._index<0)throw new Error(`No such pipeline '${n}'`)}else this._index=t;if(this._definition=_wl_material_get_definition(this._index),!_WL._materialDefinitions[this._definition])throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);return new Proxy(this,{get(n,r){let o=_WL._materialDefinitions[n._definition].get(r);if(!o)return n[r];if(_wl_material_get_param_value(n._index,o.index,S)){let c=o.type;switch(c.type){case V.UnsignedInt:return c.componentCount==1?Q[0]:new Uint32Array(HEAPU32.buffer,S,c.componentCount);case V.Int:return c.componentCount==1?tt[0]:new Int32Array(HEAP32.buffer,S,c.componentCount);case V.Float:return c.componentCount==1?g[0]:new Float32Array(HEAPF32.buffer,S,c.componentCount);case V.Sampler:return new Me(tt[0]);default:throw new Error(`Invalid type ${c} on parameter ${o.index} for material ${n._index}`)}}},set(n,r,s){let c=_WL._materialDefinitions[n._definition].get(r);if(!c)return n[r]=s,!0;switch(c.type.type){case V.UnsignedInt:case V.Int:case V.Sampler:let _=s instanceof Me?s.id:s;_wl_material_set_param_value_uint(n._index,c.index,_);break;case V.Float:let f=1;if(typeof s=="number")g[0]=s;else{f=s.length;for(let i=0;i<f;++i)g[i]=s[i]}_wl_material_set_param_value_float(n._index,c.index,S,f);break;case V.Font:throw new Error("Setting font properties is currently unsupported.")}return!0}})}get shader(){return UTF8ToString(_wl_material_get_shader(this._index))}clone(){let t=_wl_material_clone(this._index);return t>0?new ie(t):null}static wrap(t){return t>0?new ie(t):null}},he=null,Me=class{constructor(t){if(this._id=0,this._imageIndex=void 0,t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement){let n=le.length;le.push(t),this._imageIndex=n,this._id=_wl_renderer_addImage(n)}else this._id=t;Ir[this._id]=this}get valid(){return this._id>=0}get id(){return this._id}update(){this.valid&&_wl_renderer_updateImage(this._id,this._imageIndex)}get width(){return _wl_texture_width(this._id)}get height(){return _wl_texture_height(this._id)}updateSubImage(t,n,r,s){var o;if(!this.valid)return;he||(he=document.createElement("canvas"));let c=le[this._imageIndex];if(c){he.width=r,he.height=s,(o=he.getContext("2d"))===null||o===void 0||o.drawImage(c,t,n,r,s,0,0,r,s),le[this._imageIndex]=he;try{_wl_renderer_updateImage(this._id,this._imageIndex,t,(c.videoHeight||c.height)-n-s)}finally{le[this._imageIndex]=c}}}destroy(){_wl_texture_destroy(this._id),this._imageIndex&&(le[this._imageIndex]=null,this._imageIndex=void 0)}},Ir={load:function(e,t){let n=new Image;return t!==void 0&&(n.crossOrigin=t),n.src=e,new Promise((r,s)=>{n.onload=function(){let o=new Me(n);o.valid||s("Failed to add image "+n.src+" to texture atlas. Probably incompatible format."),r(o)}})}},de=class{constructor(t){this._index=t}get duration(){return _wl_animation_get_duration(this._index)}get trackCount(){return _wl_animation_get_trackCount(this._index)}retarget(t){if(t instanceof Be){let s=_wl_animation_retargetToSkin(this._index,t._index);return new de(s)}if(t.length!=this.trackCount)throw Error("Expected "+this.trackCount.toString()+" targets, but got "+t.length.toString());let n=_malloc(2*t.length);for(let s=0;s<t.length;++s)HEAPU16[n>>1+s]=t[s].objectId;let r=_wl_animation_retarget(this._index,n);return _free(n),new de(r)}},Y=class{constructor(t){this.objectId=t}get name(){return UTF8ToString(_wl_object_name(this.objectId))}set name(t){let n=lengthBytesUTF8(t)+1,r=_malloc(n);stringToUTF8(t,r,n),_wl_object_set_name(this.objectId,r),_free(r)}get parent(){let t=_wl_object_parent(this.objectId);return t==0?null:lt(t)}get children(){let t=_wl_object_get_children_count(this.objectId);if(t===0)return[];ht(t*2),_wl_object_get_children(this.objectId,S,X>>1);let n=new Array(t);for(let r=0;r<t;++r)n[r]=lt(be[r]);return n}set parent(t){_wl_object_set_parent(this.objectId,t==null?0:t.objectId)}resetTransform(){_wl_object_reset_translation_rotation(this.objectId),_wl_object_reset_scaling(this.objectId)}resetTranslationRotation(){_wl_object_reset_translation_rotation(this.objectId)}resetRotation(){_wl_object_reset_rotation(this.objectId)}resetTranslation(){_wl_object_reset_translation(this.objectId)}resetScaling(){_wl_object_reset_scaling(this.objectId)}translate(t){_wl_object_translate(this.objectId,t[0],t[1],t[2])}translateObject(t){_wl_object_translate_obj(this.objectId,t[0],t[1],t[2])}translateWorld(t){_wl_object_translate_world(this.objectId,t[0],t[1],t[2])}rotateAxisAngleDeg(t,n){_wl_object_rotate_axis_angle(this.objectId,t[0],t[1],t[2],n)}rotateAxisAngleRad(t,n){_wl_object_rotate_axis_angle_rad(this.objectId,t[0],t[1],t[2],n)}rotateAxisAngleDegObject(t,n){_wl_object_rotate_axis_angle_obj(this.objectId,t[0],t[1],t[2],n)}rotateAxisAngleRadObject(t,n){_wl_object_rotate_axis_angle_rad_obj(this.objectId,t[0],t[1],t[2],n)}rotate(t){_wl_object_rotate_quat(this.objectId,t[0],t[1],t[2],t[3])}rotateObject(t){_wl_object_rotate_quat_obj(this.objectId,t[0],t[1],t[2],t[3])}scale(t){_wl_object_scale(this.objectId,t[0],t[1],t[2])}get transformLocal(){return new Float32Array(HEAPF32.buffer,_wl_object_trans_local(this.objectId),8)}set transformLocal(t){this.transformLocal.set(t),this.setDirty()}getTranslationLocal(t){return _wl_object_get_translation_local(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}getTranslationWorld(t){return _wl_object_get_translation_world(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}setTranslationLocal(t){_wl_object_set_translation_local(this.objectId,t[0],t[1],t[2])}setTranslationWorld(t){_wl_object_set_translation_world(this.objectId,t[0],t[1],t[2])}get transformWorld(){return new Float32Array(HEAPF32.buffer,_wl_object_trans_world(this.objectId),8)}set transformWorld(t){this.transformWorld.set(t),_wl_object_trans_world_to_local(this.objectId)}get scalingLocal(){return new Float32Array(HEAPF32.buffer,_wl_object_scaling_local(this.objectId),3)}set scalingLocal(t){this.scalingLocal.set(t),this.setDirty()}get scalingWorld(){return new Float32Array(HEAPF32.buffer,_wl_object_scaling_world(this.objectId),3)}set scalingWorld(t){this.scalingWorld.set(t),_wl_object_scaling_world_to_local(this.objectId)}get rotationLocal(){return this.transformLocal.subarray(0,4)}get rotationWorld(){return this.transformWorld.subarray(0,4)}set rotationLocal(t){_wl_object_set_rotation_local(this.objectId,t[0],t[1],t[2],t[3])}set rotationWorld(t){_wl_object_set_rotation_world(this.objectId,t[0],t[1],t[2],t[3])}getForward(t){return t[0]=0,t[1]=0,t[2]=-1,this.transformVectorWorld(t),t}getUp(t){return t[0]=0,t[1]=1,t[2]=0,this.transformVectorWorld(t),t}getRight(t){return t[0]=1,t[1]=0,t[2]=0,this.transformVectorWorld(t),t}transformVectorWorld(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformVectorWorld(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformVectorLocal(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformVectorLocal(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformPointWorld(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformPointWorld(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformPointLocal(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformPointLocal(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformVectorInverseWorld(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformVectorInverseWorld(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformVectorInverseLocal(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformVectorInverseLocal(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformPointInverseWorld(t,n){return n=n||t,g[0]=n[0],g[1]=n[1],g[2]=n[2],_wl_object_transformPointInverseWorld(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}transformPointInverseLocal(t,n){return n=n||t,g.set(n),_wl_object_transformPointInverseLocal(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t}toWorldSpaceTransform(t,n){return n=n||t,g.set(n),_wl_object_toWorldSpaceTransform(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t[3]=g[3],t[4]=g[4],t[5]=g[5],t[6]=g[6],t[7]=g[7],t}toLocalSpaceTransform(t,n){let r=this.parent;return n=n||t,r?r.toObjectSpaceTransform(n):t!==n&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7]),t}toObjectSpaceTransform(t,n){return n=n||t,g.set(n),_wl_object_toObjectSpaceTransform(this.objectId,S),t[0]=g[0],t[1]=g[1],t[2]=g[2],t[3]=g[3],t[4]=g[4],t[5]=g[5],t[6]=g[6],t[7]=g[7],t}lookAt(t,n=jr){_wl_object_lookAt(this.objectId,t[0],t[1],t[2],n[0],n[1],n[2])}destroy(){_wl_scene_remove_object(this.objectId),this.objectId=null}setDirty(){_wl_object_set_dirty(this.objectId)}set active(t){let n=this.getComponents();for(let r of n)r.active=t}getComponent(t,n){let r=et(t)?t:t.TypeName,s=lengthBytesUTF8(r)+1,o=_malloc(s);stringToUTF8(r,o,s);let c=_wl_get_component_manager_index(o);if(_free(o),c<0){let _=_WL._componentTypeIndices[r],f=_wl_get_js_component_index(this.objectId,_,n||0);return f<0?null:_WL._components[f]}let h=_wl_get_component_id(this.objectId,c,n||0);return ke(r,c,h)}getComponents(t){let n=null,r=null;t&&(r=et(t)?t:t.TypeName,n=Y._typeIndexFor(r));let s=[],o=Math.floor(X/3*2),c=_wl_object_get_components(this.objectId,S,o),h=2*c;_wl_object_get_component_types(this.objectId,S+h,o);let _=Y._typeIndexFor("js");for(let f=0;f<c;++f){let i=sn[f+h],a=be[f];if(i==_){let l=_WL._components[_wl_get_js_component_index_for_id(a)];(n===null||l.type==r)&&s.push(l);continue}if(n===null){let l=Y._typeNameFor(i);s.push(ke(l,i,a))}else i==n&&s.push(ke(r,n,a))}return s}addComponent(t,n){let r=et(t)?t:t.TypeName,s=Y._typeIndexFor(r),o=null,c=null;if(s<0){if(!(r in _WL._componentTypeIndices))throw new TypeError("Unknown component type '"+r+"'");let h=_wl_object_add_js_component(this.objectId,_WL._componentTypeIndices[r]);c=_wl_get_js_component_index_for_id(h),o=_WL._components[c]}else{let h=_wl_object_add_component(this.objectId,s);o=ke(r,s,h)}if(n!==void 0)for(let h in n)wr.includes(h)||(o[h]=n[h]);return s<0&&_wljs_component_init(c),(!n||!("active"in n&&!n.active))&&(o.active=!0),o}get changed(){return!!_wl_object_is_changed(this.objectId)}equals(t){return t?this.objectId==t.objectId:!1}static _typeIndexFor(t){let n=lengthBytesUTF8(t)+1,r=_malloc(n);stringToUTF8(t,r,n);let s=_wl_get_component_manager_index(r);return _free(r),s}static _typeNameFor(t){return UTF8ToString(_wl_component_manager_name(t))}},Be=class{constructor(t){this._index=t}get jointCount(){return _wl_skin_get_joint_count(this._index)}get jointIds(){return new Uint16Array(HEAPU16.buffer,_wl_skin_joint_ids(this._index),this.jointCount)}get inverseBindTransforms(){return new Float32Array(HEAPF32.buffer,_wl_skin_inverse_bind_transforms(this._index),8*this.jointCount)}get inverseBindScalings(){return new Float32Array(HEAPF32.buffer,_wl_skin_inverse_bind_scalings(this._index),3*this.jointCount)}}});var Z=I(()=>{Yt();an()});var on=ce(()=>{WL.registerComponent("finger-cursor",{},{init:function(){this.lastTarget=null},start:function(){this.tip=this.object.getComponent("collision")},update:function(){let e=this.tip.queryOverlaps(),t=null;for(let n=0;n<e.length;++n){let r=e[n].object,s=r.getComponent("cursor-target");if(s){s.equals(this.lastTarget)||(s.onHover(r,this),s.onClick(r,this)),t=s;break}}if(t)this.lastTarget=t;else{this.lastTarget&&this.lastTarget.onUnhover(this.lastTarget.object,this),this.lastTarget=null;return}}})});var cn=ce(()=>{WL.registerComponent("cursor-target",{},{init:function(){this.hoverFunctions=[],this.unHoverFunctions=[],this.clickFunctions=[],this.moveFunctions=[],this.downFunctions=[],this.upFunctions=[]},onHover:function(e,t){for(let n of this.hoverFunctions)n(e,t)},onUnhover:function(e,t){for(let n of this.unHoverFunctions)n(e,t)},onClick:function(e,t){for(let n of this.clickFunctions)n(e,t)},onMove:function(e,t){for(let n of this.moveFunctions)n(e,t)},onDown:function(e,t){for(let n of this.downFunctions)n(e,t)},onUp:function(e,t){for(let n of this.upFunctions)n(e,t)},addHoverFunction:function(e){this._validateCallback(e),this.hoverFunctions.push(e)},removeHoverFunction:function(e){this._validateCallback(e),this._removeItemOnce(this.hoverFunctions,e)},addUnHoverFunction:function(e){this._validateCallback(e),this.unHoverFunctions.push(e)},removeUnHoverFunction:function(e){this._validateCallback(e),this._removeItemOnce(this.unHoverFunctions,e)},addClickFunction:function(e){this._validateCallback(e),this.clickFunctions.push(e)},removeClickFunction:function(e){this._validateCallback(e),this._removeItemOnce(this.clickFunctions,e)},addMoveFunction:function(e){this._validateCallback(e),this.moveFunctions.push(e)},removeMoveFunction:function(e){this._validateCallback(e),this._removeItemOnce(this.moveFunctions,e)},addDownFunction:function(e){this._validateCallback(e),this.downFunctions.push(e)},removeDownFunction:function(e){this._validateCallback(e),this._removeItemOnce(this.downFunctions,e)},addUpFunction:function(e){this._validateCallback(e),this.upFunctions.push(e)},removeUpFunction:function(e){this._validateCallback(e),this._removeItemOnce(this.upFunctions,e)},_removeItemOnce:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e},_validateCallback:function(e){if(typeof e!="function")throw new TypeError(this.object.name+".cursor-target: Argument needs to be a function")}})});var T,L,z,Ya,se=I(()=>{T=1e-6,L=typeof Float32Array<"u"?Float32Array:Array,z=Math.random,Ya=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})});function ln(){var e=new L(9);return L!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}var hn=I(()=>{se()});var pe={};N(pe,{add:()=>_i,adjoint:()=>Wr,clone:()=>Pr,copy:()=>Er,create:()=>Lr,determinant:()=>Dr,equals:()=>ui,exactEquals:()=>pi,frob:()=>hi,fromQuat:()=>ei,fromQuat2:()=>Qr,fromRotation:()=>Gr,fromRotationTranslation:()=>fn,fromRotationTranslationScale:()=>Jr,fromRotationTranslationScaleOrigin:()=>Kr,fromScaling:()=>qr,fromTranslation:()=>Xr,fromValues:()=>Cr,fromXRotation:()=>Yr,fromYRotation:()=>Zr,fromZRotation:()=>$r,frustum:()=>ti,getRotation:()=>dt,getScaling:()=>pn,getTranslation:()=>_t,identity:()=>_n,invert:()=>kr,lookAt:()=>oi,mul:()=>mi,multiply:()=>dn,multiplyScalar:()=>di,multiplyScalarAndAdd:()=>fi,ortho:()=>si,orthoNO:()=>mn,orthoZO:()=>ai,perspective:()=>ni,perspectiveFromFieldOfView:()=>ii,perspectiveNO:()=>un,perspectiveZO:()=>ri,rotate:()=>zr,rotateX:()=>Ur,rotateY:()=>Nr,rotateZ:()=>Vr,scale:()=>Br,set:()=>Rr,str:()=>li,sub:()=>vi,subtract:()=>vn,targetTo:()=>ci,translate:()=>Hr,transpose:()=>Fr});function Lr(){var e=new L(16);return L!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Pr(e){var t=new L(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Er(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Cr(e,t,n,r,s,o,c,h,_,f,i,a,l,d,u,m){var p=new L(16);return p[0]=e,p[1]=t,p[2]=n,p[3]=r,p[4]=s,p[5]=o,p[6]=c,p[7]=h,p[8]=_,p[9]=f,p[10]=i,p[11]=a,p[12]=l,p[13]=d,p[14]=u,p[15]=m,p}function Rr(e,t,n,r,s,o,c,h,_,f,i,a,l,d,u,m,p){return e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=o,e[5]=c,e[6]=h,e[7]=_,e[8]=f,e[9]=i,e[10]=a,e[11]=l,e[12]=d,e[13]=u,e[14]=m,e[15]=p,e}function _n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Fr(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],o=t[6],c=t[7],h=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=s,e[13]=c,e[14]=h}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function kr(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=t[4],h=t[5],_=t[6],f=t[7],i=t[8],a=t[9],l=t[10],d=t[11],u=t[12],m=t[13],p=t[14],v=t[15],x=n*h-r*c,y=n*_-s*c,b=n*f-o*c,w=r*_-s*h,M=r*f-o*h,E=s*f-o*_,A=i*m-a*u,C=i*p-l*u,R=i*v-d*u,D=a*p-l*m,k=a*v-d*m,F=l*v-d*p,O=x*F-y*k+b*D+w*R-M*C+E*A;return O?(O=1/O,e[0]=(h*F-_*k+f*D)*O,e[1]=(s*k-r*F-o*D)*O,e[2]=(m*E-p*M+v*w)*O,e[3]=(l*M-a*E-d*w)*O,e[4]=(_*R-c*F-f*C)*O,e[5]=(n*F-s*R+o*C)*O,e[6]=(p*b-u*E-v*y)*O,e[7]=(i*E-l*b+d*y)*O,e[8]=(c*k-h*R+f*A)*O,e[9]=(r*R-n*k-o*A)*O,e[10]=(u*M-m*b+v*x)*O,e[11]=(a*b-i*M-d*x)*O,e[12]=(h*C-c*D-_*A)*O,e[13]=(n*D-r*C+s*A)*O,e[14]=(m*y-u*w-p*x)*O,e[15]=(i*w-a*y+l*x)*O,e):null}function Wr(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=t[4],h=t[5],_=t[6],f=t[7],i=t[8],a=t[9],l=t[10],d=t[11],u=t[12],m=t[13],p=t[14],v=t[15];return e[0]=h*(l*v-d*p)-a*(_*v-f*p)+m*(_*d-f*l),e[1]=-(r*(l*v-d*p)-a*(s*v-o*p)+m*(s*d-o*l)),e[2]=r*(_*v-f*p)-h*(s*v-o*p)+m*(s*f-o*_),e[3]=-(r*(_*d-f*l)-h*(s*d-o*l)+a*(s*f-o*_)),e[4]=-(c*(l*v-d*p)-i*(_*v-f*p)+u*(_*d-f*l)),e[5]=n*(l*v-d*p)-i*(s*v-o*p)+u*(s*d-o*l),e[6]=-(n*(_*v-f*p)-c*(s*v-o*p)+u*(s*f-o*_)),e[7]=n*(_*d-f*l)-c*(s*d-o*l)+i*(s*f-o*_),e[8]=c*(a*v-d*m)-i*(h*v-f*m)+u*(h*d-f*a),e[9]=-(n*(a*v-d*m)-i*(r*v-o*m)+u*(r*d-o*a)),e[10]=n*(h*v-f*m)-c*(r*v-o*m)+u*(r*f-o*h),e[11]=-(n*(h*d-f*a)-c*(r*d-o*a)+i*(r*f-o*h)),e[12]=-(c*(a*p-l*m)-i*(h*p-_*m)+u*(h*l-_*a)),e[13]=n*(a*p-l*m)-i*(r*p-s*m)+u*(r*l-s*a),e[14]=-(n*(h*p-_*m)-c*(r*p-s*m)+u*(r*_-s*h)),e[15]=n*(h*l-_*a)-c*(r*l-s*a)+i*(r*_-s*h),e}function Dr(e){var t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],_=e[7],f=e[8],i=e[9],a=e[10],l=e[11],d=e[12],u=e[13],m=e[14],p=e[15],v=t*c-n*o,x=t*h-r*o,y=t*_-s*o,b=n*h-r*c,w=n*_-s*c,M=r*_-s*h,E=f*u-i*d,A=f*m-a*d,C=f*p-l*d,R=i*m-a*u,D=i*p-l*u,k=a*p-l*m;return v*k-x*D+y*R+b*C-w*A+M*E}function dn(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3],h=t[4],_=t[5],f=t[6],i=t[7],a=t[8],l=t[9],d=t[10],u=t[11],m=t[12],p=t[13],v=t[14],x=t[15],y=n[0],b=n[1],w=n[2],M=n[3];return e[0]=y*r+b*h+w*a+M*m,e[1]=y*s+b*_+w*l+M*p,e[2]=y*o+b*f+w*d+M*v,e[3]=y*c+b*i+w*u+M*x,y=n[4],b=n[5],w=n[6],M=n[7],e[4]=y*r+b*h+w*a+M*m,e[5]=y*s+b*_+w*l+M*p,e[6]=y*o+b*f+w*d+M*v,e[7]=y*c+b*i+w*u+M*x,y=n[8],b=n[9],w=n[10],M=n[11],e[8]=y*r+b*h+w*a+M*m,e[9]=y*s+b*_+w*l+M*p,e[10]=y*o+b*f+w*d+M*v,e[11]=y*c+b*i+w*u+M*x,y=n[12],b=n[13],w=n[14],M=n[15],e[12]=y*r+b*h+w*a+M*m,e[13]=y*s+b*_+w*l+M*p,e[14]=y*o+b*f+w*d+M*v,e[15]=y*c+b*i+w*u+M*x,e}function Hr(e,t,n){var r=n[0],s=n[1],o=n[2],c,h,_,f,i,a,l,d,u,m,p,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*o+t[12],e[13]=t[1]*r+t[5]*s+t[9]*o+t[13],e[14]=t[2]*r+t[6]*s+t[10]*o+t[14],e[15]=t[3]*r+t[7]*s+t[11]*o+t[15]):(c=t[0],h=t[1],_=t[2],f=t[3],i=t[4],a=t[5],l=t[6],d=t[7],u=t[8],m=t[9],p=t[10],v=t[11],e[0]=c,e[1]=h,e[2]=_,e[3]=f,e[4]=i,e[5]=a,e[6]=l,e[7]=d,e[8]=u,e[9]=m,e[10]=p,e[11]=v,e[12]=c*r+i*s+u*o+t[12],e[13]=h*r+a*s+m*o+t[13],e[14]=_*r+l*s+p*o+t[14],e[15]=f*r+d*s+v*o+t[15]),e}function Br(e,t,n){var r=n[0],s=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function zr(e,t,n,r){var s=r[0],o=r[1],c=r[2],h=Math.hypot(s,o,c),_,f,i,a,l,d,u,m,p,v,x,y,b,w,M,E,A,C,R,D,k,F,O,U;return h<T?null:(h=1/h,s*=h,o*=h,c*=h,_=Math.sin(n),f=Math.cos(n),i=1-f,a=t[0],l=t[1],d=t[2],u=t[3],m=t[4],p=t[5],v=t[6],x=t[7],y=t[8],b=t[9],w=t[10],M=t[11],E=s*s*i+f,A=o*s*i+c*_,C=c*s*i-o*_,R=s*o*i-c*_,D=o*o*i+f,k=c*o*i+s*_,F=s*c*i+o*_,O=o*c*i-s*_,U=c*c*i+f,e[0]=a*E+m*A+y*C,e[1]=l*E+p*A+b*C,e[2]=d*E+v*A+w*C,e[3]=u*E+x*A+M*C,e[4]=a*R+m*D+y*k,e[5]=l*R+p*D+b*k,e[6]=d*R+v*D+w*k,e[7]=u*R+x*D+M*k,e[8]=a*F+m*O+y*U,e[9]=l*F+p*O+b*U,e[10]=d*F+v*O+w*U,e[11]=u*F+x*O+M*U,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Ur(e,t,n){var r=Math.sin(n),s=Math.cos(n),o=t[4],c=t[5],h=t[6],_=t[7],f=t[8],i=t[9],a=t[10],l=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*s+f*r,e[5]=c*s+i*r,e[6]=h*s+a*r,e[7]=_*s+l*r,e[8]=f*s-o*r,e[9]=i*s-c*r,e[10]=a*s-h*r,e[11]=l*s-_*r,e}function Nr(e,t,n){var r=Math.sin(n),s=Math.cos(n),o=t[0],c=t[1],h=t[2],_=t[3],f=t[8],i=t[9],a=t[10],l=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*s-f*r,e[1]=c*s-i*r,e[2]=h*s-a*r,e[3]=_*s-l*r,e[8]=o*r+f*s,e[9]=c*r+i*s,e[10]=h*r+a*s,e[11]=_*r+l*s,e}function Vr(e,t,n){var r=Math.sin(n),s=Math.cos(n),o=t[0],c=t[1],h=t[2],_=t[3],f=t[4],i=t[5],a=t[6],l=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*s+f*r,e[1]=c*s+i*r,e[2]=h*s+a*r,e[3]=_*s+l*r,e[4]=f*s-o*r,e[5]=i*s-c*r,e[6]=a*s-h*r,e[7]=l*s-_*r,e}function Xr(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function qr(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Gr(e,t,n){var r=n[0],s=n[1],o=n[2],c=Math.hypot(r,s,o),h,_,f;return c<T?null:(c=1/c,r*=c,s*=c,o*=c,h=Math.sin(t),_=Math.cos(t),f=1-_,e[0]=r*r*f+_,e[1]=s*r*f+o*h,e[2]=o*r*f-s*h,e[3]=0,e[4]=r*s*f-o*h,e[5]=s*s*f+_,e[6]=o*s*f+r*h,e[7]=0,e[8]=r*o*f+s*h,e[9]=s*o*f-r*h,e[10]=o*o*f+_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Yr(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zr(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fn(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3],h=r+r,_=s+s,f=o+o,i=r*h,a=r*_,l=r*f,d=s*_,u=s*f,m=o*f,p=c*h,v=c*_,x=c*f;return e[0]=1-(d+m),e[1]=a+x,e[2]=l-v,e[3]=0,e[4]=a-x,e[5]=1-(i+m),e[6]=u+p,e[7]=0,e[8]=l+v,e[9]=u-p,e[10]=1-(i+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Qr(e,t){var n=new L(3),r=-t[0],s=-t[1],o=-t[2],c=t[3],h=t[4],_=t[5],f=t[6],i=t[7],a=r*r+s*s+o*o+c*c;return a>0?(n[0]=(h*c+i*r+_*o-f*s)*2/a,n[1]=(_*c+i*s+f*r-h*o)*2/a,n[2]=(f*c+i*o+h*s-_*r)*2/a):(n[0]=(h*c+i*r+_*o-f*s)*2,n[1]=(_*c+i*s+f*r-h*o)*2,n[2]=(f*c+i*o+h*s-_*r)*2),fn(e,t,n),e}function _t(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function pn(e,t){var n=t[0],r=t[1],s=t[2],o=t[4],c=t[5],h=t[6],_=t[8],f=t[9],i=t[10];return e[0]=Math.hypot(n,r,s),e[1]=Math.hypot(o,c,h),e[2]=Math.hypot(_,f,i),e}function dt(e,t){var n=new L(3);pn(n,t);var r=1/n[0],s=1/n[1],o=1/n[2],c=t[0]*r,h=t[1]*s,_=t[2]*o,f=t[4]*r,i=t[5]*s,a=t[6]*o,l=t[8]*r,d=t[9]*s,u=t[10]*o,m=c+i+u,p=0;return m>0?(p=Math.sqrt(m+1)*2,e[3]=.25*p,e[0]=(a-d)/p,e[1]=(l-_)/p,e[2]=(h-f)/p):c>i&&c>u?(p=Math.sqrt(1+c-i-u)*2,e[3]=(a-d)/p,e[0]=.25*p,e[1]=(h+f)/p,e[2]=(l+_)/p):i>u?(p=Math.sqrt(1+i-c-u)*2,e[3]=(l-_)/p,e[0]=(h+f)/p,e[1]=.25*p,e[2]=(a+d)/p):(p=Math.sqrt(1+u-c-i)*2,e[3]=(h-f)/p,e[0]=(l+_)/p,e[1]=(a+d)/p,e[2]=.25*p),e}function Jr(e,t,n,r){var s=t[0],o=t[1],c=t[2],h=t[3],_=s+s,f=o+o,i=c+c,a=s*_,l=s*f,d=s*i,u=o*f,m=o*i,p=c*i,v=h*_,x=h*f,y=h*i,b=r[0],w=r[1],M=r[2];return e[0]=(1-(u+p))*b,e[1]=(l+y)*b,e[2]=(d-x)*b,e[3]=0,e[4]=(l-y)*w,e[5]=(1-(a+p))*w,e[6]=(m+v)*w,e[7]=0,e[8]=(d+x)*M,e[9]=(m-v)*M,e[10]=(1-(a+u))*M,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Kr(e,t,n,r,s){var o=t[0],c=t[1],h=t[2],_=t[3],f=o+o,i=c+c,a=h+h,l=o*f,d=o*i,u=o*a,m=c*i,p=c*a,v=h*a,x=_*f,y=_*i,b=_*a,w=r[0],M=r[1],E=r[2],A=s[0],C=s[1],R=s[2],D=(1-(m+v))*w,k=(d+b)*w,F=(u-y)*w,O=(d-b)*M,U=(1-(l+v))*M,xe=(p+x)*M,ye=(u+y)*E,Vt=(p-x)*E,Xt=(1-(l+m))*E;return e[0]=D,e[1]=k,e[2]=F,e[3]=0,e[4]=O,e[5]=U,e[6]=xe,e[7]=0,e[8]=ye,e[9]=Vt,e[10]=Xt,e[11]=0,e[12]=n[0]+A-(D*A+O*C+ye*R),e[13]=n[1]+C-(k*A+U*C+Vt*R),e[14]=n[2]+R-(F*A+xe*C+Xt*R),e[15]=1,e}function ei(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=n+n,h=r+r,_=s+s,f=n*c,i=r*c,a=r*h,l=s*c,d=s*h,u=s*_,m=o*c,p=o*h,v=o*_;return e[0]=1-a-u,e[1]=i+v,e[2]=l-p,e[3]=0,e[4]=i-v,e[5]=1-f-u,e[6]=d+m,e[7]=0,e[8]=l+p,e[9]=d-m,e[10]=1-f-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ti(e,t,n,r,s,o,c){var h=1/(n-t),_=1/(s-r),f=1/(o-c);return e[0]=o*2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*_,e[6]=0,e[7]=0,e[8]=(n+t)*h,e[9]=(s+r)*_,e[10]=(c+o)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=c*o*2*f,e[15]=0,e}function un(e,t,n,r,s){var o=1/Math.tan(t/2),c;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(c=1/(r-s),e[10]=(s+r)*c,e[14]=2*s*r*c):(e[10]=-1,e[14]=-2*r),e}function ri(e,t,n,r,s){var o=1/Math.tan(t/2),c;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(c=1/(r-s),e[10]=s*c,e[14]=s*r*c):(e[10]=-1,e[14]=-r),e}function ii(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),c=Math.tan(t.leftDegrees*Math.PI/180),h=Math.tan(t.rightDegrees*Math.PI/180),_=2/(c+h),f=2/(s+o);return e[0]=_,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-((c-h)*_*.5),e[9]=(s-o)*f*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function mn(e,t,n,r,s,o,c){var h=1/(t-n),_=1/(r-s),f=1/(o-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*_,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+n)*h,e[13]=(s+r)*_,e[14]=(c+o)*f,e[15]=1,e}function ai(e,t,n,r,s,o,c){var h=1/(t-n),_=1/(r-s),f=1/(o-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*_,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=f,e[11]=0,e[12]=(t+n)*h,e[13]=(s+r)*_,e[14]=o*f,e[15]=1,e}function oi(e,t,n,r){var s,o,c,h,_,f,i,a,l,d,u=t[0],m=t[1],p=t[2],v=r[0],x=r[1],y=r[2],b=n[0],w=n[1],M=n[2];return Math.abs(u-b)<T&&Math.abs(m-w)<T&&Math.abs(p-M)<T?_n(e):(i=u-b,a=m-w,l=p-M,d=1/Math.hypot(i,a,l),i*=d,a*=d,l*=d,s=x*l-y*a,o=y*i-v*l,c=v*a-x*i,d=Math.hypot(s,o,c),d?(d=1/d,s*=d,o*=d,c*=d):(s=0,o=0,c=0),h=a*c-l*o,_=l*s-i*c,f=i*o-a*s,d=Math.hypot(h,_,f),d?(d=1/d,h*=d,_*=d,f*=d):(h=0,_=0,f=0),e[0]=s,e[1]=h,e[2]=i,e[3]=0,e[4]=o,e[5]=_,e[6]=a,e[7]=0,e[8]=c,e[9]=f,e[10]=l,e[11]=0,e[12]=-(s*u+o*m+c*p),e[13]=-(h*u+_*m+f*p),e[14]=-(i*u+a*m+l*p),e[15]=1,e)}function ci(e,t,n,r){var s=t[0],o=t[1],c=t[2],h=r[0],_=r[1],f=r[2],i=s-n[0],a=o-n[1],l=c-n[2],d=i*i+a*a+l*l;d>0&&(d=1/Math.sqrt(d),i*=d,a*=d,l*=d);var u=_*l-f*a,m=f*i-h*l,p=h*a-_*i;return d=u*u+m*m+p*p,d>0&&(d=1/Math.sqrt(d),u*=d,m*=d,p*=d),e[0]=u,e[1]=m,e[2]=p,e[3]=0,e[4]=a*p-l*m,e[5]=l*u-i*p,e[6]=i*m-a*u,e[7]=0,e[8]=i,e[9]=a,e[10]=l,e[11]=0,e[12]=s,e[13]=o,e[14]=c,e[15]=1,e}function li(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function hi(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function _i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function vn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function di(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function fi(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function pi(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ui(e,t){var n=e[0],r=e[1],s=e[2],o=e[3],c=e[4],h=e[5],_=e[6],f=e[7],i=e[8],a=e[9],l=e[10],d=e[11],u=e[12],m=e[13],p=e[14],v=e[15],x=t[0],y=t[1],b=t[2],w=t[3],M=t[4],E=t[5],A=t[6],C=t[7],R=t[8],D=t[9],k=t[10],F=t[11],O=t[12],U=t[13],xe=t[14],ye=t[15];return Math.abs(n-x)<=T*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(r-y)<=T*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(s-b)<=T*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(o-w)<=T*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(c-M)<=T*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(h-E)<=T*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(_-A)<=T*Math.max(1,Math.abs(_),Math.abs(A))&&Math.abs(f-C)<=T*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(i-R)<=T*Math.max(1,Math.abs(i),Math.abs(R))&&Math.abs(a-D)<=T*Math.max(1,Math.abs(a),Math.abs(D))&&Math.abs(l-k)<=T*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(d-F)<=T*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(u-O)<=T*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(m-U)<=T*Math.max(1,Math.abs(m),Math.abs(U))&&Math.abs(p-xe)<=T*Math.max(1,Math.abs(p),Math.abs(xe))&&Math.abs(v-ye)<=T*Math.max(1,Math.abs(v),Math.abs(ye))}var ni,si,mi,vi,ft=I(()=>{se();ni=un;si=mn;mi=dn,vi=vn});var P={};N(P,{add:()=>bi,angle:()=>zi,bezier:()=>Ci,ceil:()=>wi,clone:()=>gi,copy:()=>xi,create:()=>ze,cross:()=>Ae,dist:()=>Zi,distance:()=>wn,div:()=>Yi,divide:()=>bn,dot:()=>Ne,equals:()=>Xi,exactEquals:()=>Vi,floor:()=>Mi,forEach:()=>Ji,fromValues:()=>Ue,hermite:()=>Ei,inverse:()=>Li,len:()=>ut,length:()=>gn,lerp:()=>Pi,max:()=>Ti,min:()=>Ai,mul:()=>Gi,multiply:()=>yn,negate:()=>Oi,normalize:()=>pt,random:()=>Ri,rotateX:()=>Di,rotateY:()=>Hi,rotateZ:()=>Bi,round:()=>Si,scale:()=>ji,scaleAndAdd:()=>Ii,set:()=>yi,sqrDist:()=>$i,sqrLen:()=>Qi,squaredDistance:()=>Mn,squaredLength:()=>An,str:()=>Ni,sub:()=>qi,subtract:()=>xn,transformMat3:()=>ki,transformMat4:()=>Fi,transformQuat:()=>Wi,zero:()=>Ui});function ze(){var e=new L(3);return L!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function gi(e){var t=new L(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function gn(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Ue(e,t,n){var r=new L(3);return r[0]=e,r[1]=t,r[2]=n,r}function xi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function yi(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function bi(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function xn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function yn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function bn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function wi(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Mi(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Ai(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Ti(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Si(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function ji(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Ii(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function wn(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.hypot(n,r,s)}function Mn(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}function An(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function Oi(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Li(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function pt(e,t){var n=t[0],r=t[1],s=t[2],o=n*n+r*r+s*s;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ne(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ae(e,t,n){var r=t[0],s=t[1],o=t[2],c=n[0],h=n[1],_=n[2];return e[0]=s*_-o*h,e[1]=o*c-r*_,e[2]=r*h-s*c,e}function Pi(e,t,n,r){var s=t[0],o=t[1],c=t[2];return e[0]=s+r*(n[0]-s),e[1]=o+r*(n[1]-o),e[2]=c+r*(n[2]-c),e}function Ei(e,t,n,r,s,o){var c=o*o,h=c*(2*o-3)+1,_=c*(o-2)+o,f=c*(o-1),i=c*(3-2*o);return e[0]=t[0]*h+n[0]*_+r[0]*f+s[0]*i,e[1]=t[1]*h+n[1]*_+r[1]*f+s[1]*i,e[2]=t[2]*h+n[2]*_+r[2]*f+s[2]*i,e}function Ci(e,t,n,r,s,o){var c=1-o,h=c*c,_=o*o,f=h*c,i=3*o*h,a=3*_*c,l=_*o;return e[0]=t[0]*f+n[0]*i+r[0]*a+s[0]*l,e[1]=t[1]*f+n[1]*i+r[1]*a+s[1]*l,e[2]=t[2]*f+n[2]*i+r[2]*a+s[2]*l,e}function Ri(e,t){t=t||1;var n=z()*2*Math.PI,r=z()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}function Fi(e,t,n){var r=t[0],s=t[1],o=t[2],c=n[3]*r+n[7]*s+n[11]*o+n[15];return c=c||1,e[0]=(n[0]*r+n[4]*s+n[8]*o+n[12])/c,e[1]=(n[1]*r+n[5]*s+n[9]*o+n[13])/c,e[2]=(n[2]*r+n[6]*s+n[10]*o+n[14])/c,e}function ki(e,t,n){var r=t[0],s=t[1],o=t[2];return e[0]=r*n[0]+s*n[3]+o*n[6],e[1]=r*n[1]+s*n[4]+o*n[7],e[2]=r*n[2]+s*n[5]+o*n[8],e}function Wi(e,t,n){var r=n[0],s=n[1],o=n[2],c=n[3],h=t[0],_=t[1],f=t[2],i=s*f-o*_,a=o*h-r*f,l=r*_-s*h,d=s*l-o*a,u=o*i-r*l,m=r*a-s*i,p=c*2;return i*=p,a*=p,l*=p,d*=2,u*=2,m*=2,e[0]=h+i+d,e[1]=_+a+u,e[2]=f+l+m,e}function Di(e,t,n,r){var s=[],o=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],o[0]=s[0],o[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),o[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function Hi(e,t,n,r){var s=[],o=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],o[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),o[1]=s[1],o[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function Bi(e,t,n,r){var s=[],o=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],o[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),o[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),o[2]=s[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function zi(e,t){var n=e[0],r=e[1],s=e[2],o=t[0],c=t[1],h=t[2],_=Math.sqrt(n*n+r*r+s*s),f=Math.sqrt(o*o+c*c+h*h),i=_*f,a=i&&Ne(e,t)/i;return Math.acos(Math.min(Math.max(a,-1),1))}function Ui(e){return e[0]=0,e[1]=0,e[2]=0,e}function Ni(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Vi(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Xi(e,t){var n=e[0],r=e[1],s=e[2],o=t[0],c=t[1],h=t[2];return Math.abs(n-o)<=T*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-c)<=T*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(s-h)<=T*Math.max(1,Math.abs(s),Math.abs(h))}var qi,Gi,Yi,Zi,$i,ut,Qi,Ji,mt=I(()=>{se();qi=xn,Gi=yn,Yi=bn,Zi=wn,$i=Mn,ut=gn,Qi=An,Ji=function(){var e=ze();return function(t,n,r,s,o,c){var h,_;for(n||(n=3),r||(r=0),s?_=Math.min(s*n+r,t.length):_=t.length,h=r;h<_;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],o(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2];return t}}()});var Te={};N(Te,{add:()=>bt,ceil:()=>Ki,clone:()=>vt,copy:()=>xt,create:()=>Tn,cross:()=>os,dist:()=>ms,distance:()=>On,div:()=>us,divide:()=>In,dot:()=>At,equals:()=>jt,exactEquals:()=>St,floor:()=>es,forEach:()=>ys,fromValues:()=>gt,inverse:()=>as,len:()=>gs,length:()=>Ve,lerp:()=>Tt,max:()=>ns,min:()=>ts,mul:()=>ps,multiply:()=>jn,negate:()=>ss,normalize:()=>Mt,random:()=>cs,round:()=>rs,scale:()=>wt,scaleAndAdd:()=>is,set:()=>yt,sqrDist:()=>vs,sqrLen:()=>xs,squaredDistance:()=>Ln,squaredLength:()=>Xe,str:()=>ds,sub:()=>fs,subtract:()=>Sn,transformMat4:()=>ls,transformQuat:()=>hs,zero:()=>_s});function Tn(){var e=new L(4);return L!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function vt(e){var t=new L(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function gt(e,t,n,r){var s=new L(4);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}function xt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function yt(e,t,n,r,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=s,e}function bt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Sn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function jn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function In(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Ki(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function es(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function ts(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function ns(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function rs(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function wt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function is(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function On(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,s,o)}function Ln(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+s*s+o*o}function Ve(e){var t=e[0],n=e[1],r=e[2],s=e[3];return Math.hypot(t,n,r,s)}function Xe(e){var t=e[0],n=e[1],r=e[2],s=e[3];return t*t+n*n+r*r+s*s}function ss(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function as(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Mt(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=n*n+r*r+s*s+o*o;return c>0&&(c=1/Math.sqrt(c)),e[0]=n*c,e[1]=r*c,e[2]=s*c,e[3]=o*c,e}function At(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function os(e,t,n,r){var s=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],c=n[0]*r[3]-n[3]*r[0],h=n[1]*r[2]-n[2]*r[1],_=n[1]*r[3]-n[3]*r[1],f=n[2]*r[3]-n[3]*r[2],i=t[0],a=t[1],l=t[2],d=t[3];return e[0]=a*f-l*_+d*h,e[1]=-(i*f)+l*c-d*o,e[2]=i*_-a*c+d*s,e[3]=-(i*h)+a*o-l*s,e}function Tt(e,t,n,r){var s=t[0],o=t[1],c=t[2],h=t[3];return e[0]=s+r*(n[0]-s),e[1]=o+r*(n[1]-o),e[2]=c+r*(n[2]-c),e[3]=h+r*(n[3]-h),e}function cs(e,t){t=t||1;var n,r,s,o,c,h;do n=z()*2-1,r=z()*2-1,c=n*n+r*r;while(c>=1);do s=z()*2-1,o=z()*2-1,h=s*s+o*o;while(h>=1);var _=Math.sqrt((1-c)/h);return e[0]=t*n,e[1]=t*r,e[2]=t*s*_,e[3]=t*o*_,e}function ls(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3];return e[0]=n[0]*r+n[4]*s+n[8]*o+n[12]*c,e[1]=n[1]*r+n[5]*s+n[9]*o+n[13]*c,e[2]=n[2]*r+n[6]*s+n[10]*o+n[14]*c,e[3]=n[3]*r+n[7]*s+n[11]*o+n[15]*c,e}function hs(e,t,n){var r=t[0],s=t[1],o=t[2],c=n[0],h=n[1],_=n[2],f=n[3],i=f*r+h*o-_*s,a=f*s+_*r-c*o,l=f*o+c*s-h*r,d=-c*r-h*s-_*o;return e[0]=i*f+d*-c+a*-_-l*-h,e[1]=a*f+d*-h+l*-c-i*-_,e[2]=l*f+d*-_+i*-h-a*-c,e[3]=t[3],e}function _s(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function ds(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function St(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function jt(e,t){var n=e[0],r=e[1],s=e[2],o=e[3],c=t[0],h=t[1],_=t[2],f=t[3];return Math.abs(n-c)<=T*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-h)<=T*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(s-_)<=T*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(o-f)<=T*Math.max(1,Math.abs(o),Math.abs(f))}var fs,ps,us,ms,vs,gs,xs,ys,It=I(()=>{se();fs=Sn,ps=jn,us=In,ms=On,vs=Ln,gs=Ve,xs=Xe,ys=function(){var e=Tn();return function(t,n,r,s,o,c){var h,_;for(n||(n=4),r||(r=0),s?_=Math.min(s*n+r,t.length):_=t.length,h=r;h<_;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],e[3]=t[h+3],o(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2],t[h+3]=e[3];return t}}()});var je={};N(je,{add:()=>Rs,calculateW:()=>As,clone:()=>Ps,conjugate:()=>Is,copy:()=>Ge,create:()=>Se,dot:()=>Ye,equals:()=>Bs,exactEquals:()=>Hs,exp:()=>Cn,fromEuler:()=>Os,fromMat3:()=>Fn,fromValues:()=>Es,getAngle:()=>Ms,getAxisAngle:()=>ws,identity:()=>bs,invert:()=>js,len:()=>Ws,length:()=>Ze,lerp:()=>ks,ln:()=>Rn,mul:()=>Fs,multiply:()=>En,normalize:()=>Et,pow:()=>Ts,random:()=>Ss,rotateX:()=>Ot,rotateY:()=>Lt,rotateZ:()=>Pt,rotationTo:()=>zs,scale:()=>kn,set:()=>Cs,setAxes:()=>Ns,setAxisAngle:()=>Pn,slerp:()=>qe,sqlerp:()=>Us,sqrLen:()=>Ds,squaredLength:()=>$e,str:()=>Ls});function Se(){var e=new L(4);return L!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function bs(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Pn(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function ws(e,t){var n=Math.acos(t[3])*2,r=Math.sin(n/2);return r>T?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Ms(e,t){var n=Ye(e,t);return Math.acos(2*n*n-1)}function En(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3],h=n[0],_=n[1],f=n[2],i=n[3];return e[0]=r*i+c*h+s*f-o*_,e[1]=s*i+c*_+o*h-r*f,e[2]=o*i+c*f+r*_-s*h,e[3]=c*i-r*h-s*_-o*f,e}function Ot(e,t,n){n*=.5;var r=t[0],s=t[1],o=t[2],c=t[3],h=Math.sin(n),_=Math.cos(n);return e[0]=r*_+c*h,e[1]=s*_+o*h,e[2]=o*_-s*h,e[3]=c*_-r*h,e}function Lt(e,t,n){n*=.5;var r=t[0],s=t[1],o=t[2],c=t[3],h=Math.sin(n),_=Math.cos(n);return e[0]=r*_-o*h,e[1]=s*_+c*h,e[2]=o*_+r*h,e[3]=c*_-s*h,e}function Pt(e,t,n){n*=.5;var r=t[0],s=t[1],o=t[2],c=t[3],h=Math.sin(n),_=Math.cos(n);return e[0]=r*_+s*h,e[1]=s*_-r*h,e[2]=o*_+c*h,e[3]=c*_-o*h,e}function As(e,t){var n=t[0],r=t[1],s=t[2];return e[0]=n,e[1]=r,e[2]=s,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-s*s)),e}function Cn(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=Math.sqrt(n*n+r*r+s*s),h=Math.exp(o),_=c>0?h*Math.sin(c)/c:0;return e[0]=n*_,e[1]=r*_,e[2]=s*_,e[3]=h*Math.cos(c),e}function Rn(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=Math.sqrt(n*n+r*r+s*s),h=c>0?Math.atan2(c,o)/c:0;return e[0]=n*h,e[1]=r*h,e[2]=s*h,e[3]=.5*Math.log(n*n+r*r+s*s+o*o),e}function Ts(e,t,n){return Rn(e,t),kn(e,e,n),Cn(e,e),e}function qe(e,t,n,r){var s=t[0],o=t[1],c=t[2],h=t[3],_=n[0],f=n[1],i=n[2],a=n[3],l,d,u,m,p;return d=s*_+o*f+c*i+h*a,d<0&&(d=-d,_=-_,f=-f,i=-i,a=-a),1-d>T?(l=Math.acos(d),u=Math.sin(l),m=Math.sin((1-r)*l)/u,p=Math.sin(r*l)/u):(m=1-r,p=r),e[0]=m*s+p*_,e[1]=m*o+p*f,e[2]=m*c+p*i,e[3]=m*h+p*a,e}function Ss(e){var t=z(),n=z(),r=z(),s=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=s*Math.sin(2*Math.PI*n),e[1]=s*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e}function js(e,t){var n=t[0],r=t[1],s=t[2],o=t[3],c=n*n+r*r+s*s+o*o,h=c?1/c:0;return e[0]=-n*h,e[1]=-r*h,e[2]=-s*h,e[3]=o*h,e}function Is(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Fn(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var s=0;t[4]>t[0]&&(s=1),t[8]>t[s*3+s]&&(s=2);var o=(s+1)%3,c=(s+2)%3;r=Math.sqrt(t[s*3+s]-t[o*3+o]-t[c*3+c]+1),e[s]=.5*r,r=.5/r,e[3]=(t[o*3+c]-t[c*3+o])*r,e[o]=(t[o*3+s]+t[s*3+o])*r,e[c]=(t[c*3+s]+t[s*3+c])*r}return e}function Os(e,t,n,r){var s=.5*Math.PI/180;t*=s,n*=s,r*=s;var o=Math.sin(t),c=Math.cos(t),h=Math.sin(n),_=Math.cos(n),f=Math.sin(r),i=Math.cos(r);return e[0]=o*_*i-c*h*f,e[1]=c*h*i+o*_*f,e[2]=c*_*f-o*h*i,e[3]=c*_*i+o*h*f,e}function Ls(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Ps,Es,Ge,Cs,Rs,Fs,kn,Ye,ks,Ze,Ws,$e,Ds,Et,Hs,Bs,zs,Us,Ns,Ct=I(()=>{se();hn();mt();It();Ps=vt,Es=gt,Ge=xt,Cs=yt,Rs=bt,Fs=En,kn=wt,Ye=At,ks=Tt,Ze=Ve,Ws=Ze,$e=Xe,Ds=$e,Et=Mt,Hs=St,Bs=jt,zs=function(){var e=ze(),t=Ue(1,0,0),n=Ue(0,1,0);return function(r,s,o){var c=Ne(s,o);return c<-.999999?(Ae(e,t,s),ut(e)<1e-6&&Ae(e,n,s),pt(e,e),Pn(r,e,Math.PI),r):c>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Ae(e,s,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+c,Et(r,r))}}(),Us=function(){var e=Se(),t=Se();return function(n,r,s,o,c,h){return qe(e,r,c,h),qe(t,s,o,h),qe(n,e,t,2*h*(1-h)),n}}(),Ns=function(){var e=ln();return function(t,n,r,s){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=s[0],e[4]=s[1],e[7]=s[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Et(t,Fn(t,e))}}()});var J={};N(J,{add:()=>_a,clone:()=>Xs,conjugate:()=>ma,copy:()=>Dn,create:()=>Vs,dot:()=>Bn,equals:()=>wa,exactEquals:()=>ba,fromMat4:()=>$s,fromRotation:()=>Zs,fromRotationTranslation:()=>Wn,fromRotationTranslationValues:()=>Gs,fromTranslation:()=>Ys,fromValues:()=>qs,getDual:()=>ea,getReal:()=>Ks,getTranslation:()=>ra,identity:()=>Qs,invert:()=>ua,len:()=>va,length:()=>zn,lerp:()=>pa,mul:()=>da,multiply:()=>Hn,normalize:()=>xa,rotateAroundAxis:()=>ha,rotateByQuatAppend:()=>ca,rotateByQuatPrepend:()=>la,rotateX:()=>sa,rotateY:()=>aa,rotateZ:()=>oa,scale:()=>fa,set:()=>Js,setDual:()=>na,setReal:()=>ta,sqrLen:()=>ga,squaredLength:()=>Qe,str:()=>ya,translate:()=>ia});function Vs(){var e=new L(8);return L!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function Xs(e){var t=new L(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function qs(e,t,n,r,s,o,c,h){var _=new L(8);return _[0]=e,_[1]=t,_[2]=n,_[3]=r,_[4]=s,_[5]=o,_[6]=c,_[7]=h,_}function Gs(e,t,n,r,s,o,c){var h=new L(8);h[0]=e,h[1]=t,h[2]=n,h[3]=r;var _=s*.5,f=o*.5,i=c*.5;return h[4]=_*r+f*n-i*t,h[5]=f*r+i*e-_*n,h[6]=i*r+_*t-f*e,h[7]=-_*e-f*t-i*n,h}function Wn(e,t,n){var r=n[0]*.5,s=n[1]*.5,o=n[2]*.5,c=t[0],h=t[1],_=t[2],f=t[3];return e[0]=c,e[1]=h,e[2]=_,e[3]=f,e[4]=r*f+s*_-o*h,e[5]=s*f+o*c-r*_,e[6]=o*f+r*h-s*c,e[7]=-r*c-s*h-o*_,e}function Ys(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0]*.5,e[5]=t[1]*.5,e[6]=t[2]*.5,e[7]=0,e}function Zs(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function $s(e,t){var n=Se();dt(n,t);var r=new L(3);return _t(r,t),Wn(e,n,r),e}function Dn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Qs(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Js(e,t,n,r,s,o,c,h,_){return e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=o,e[5]=c,e[6]=h,e[7]=_,e}function ea(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}function na(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function ra(e,t){var n=t[4],r=t[5],s=t[6],o=t[7],c=-t[0],h=-t[1],_=-t[2],f=t[3];return e[0]=(n*f+o*c+r*_-s*h)*2,e[1]=(r*f+o*h+s*c-n*_)*2,e[2]=(s*f+o*_+n*h-r*c)*2,e}function ia(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3],h=n[0]*.5,_=n[1]*.5,f=n[2]*.5,i=t[4],a=t[5],l=t[6],d=t[7];return e[0]=r,e[1]=s,e[2]=o,e[3]=c,e[4]=c*h+s*f-o*_+i,e[5]=c*_+o*h-r*f+a,e[6]=c*f+r*_-s*h+l,e[7]=-r*h-s*_-o*f+d,e}function sa(e,t,n){var r=-t[0],s=-t[1],o=-t[2],c=t[3],h=t[4],_=t[5],f=t[6],i=t[7],a=h*c+i*r+_*o-f*s,l=_*c+i*s+f*r-h*o,d=f*c+i*o+h*s-_*r,u=i*c-h*r-_*s-f*o;return Ot(e,t,n),r=e[0],s=e[1],o=e[2],c=e[3],e[4]=a*c+u*r+l*o-d*s,e[5]=l*c+u*s+d*r-a*o,e[6]=d*c+u*o+a*s-l*r,e[7]=u*c-a*r-l*s-d*o,e}function aa(e,t,n){var r=-t[0],s=-t[1],o=-t[2],c=t[3],h=t[4],_=t[5],f=t[6],i=t[7],a=h*c+i*r+_*o-f*s,l=_*c+i*s+f*r-h*o,d=f*c+i*o+h*s-_*r,u=i*c-h*r-_*s-f*o;return Lt(e,t,n),r=e[0],s=e[1],o=e[2],c=e[3],e[4]=a*c+u*r+l*o-d*s,e[5]=l*c+u*s+d*r-a*o,e[6]=d*c+u*o+a*s-l*r,e[7]=u*c-a*r-l*s-d*o,e}function oa(e,t,n){var r=-t[0],s=-t[1],o=-t[2],c=t[3],h=t[4],_=t[5],f=t[6],i=t[7],a=h*c+i*r+_*o-f*s,l=_*c+i*s+f*r-h*o,d=f*c+i*o+h*s-_*r,u=i*c-h*r-_*s-f*o;return Pt(e,t,n),r=e[0],s=e[1],o=e[2],c=e[3],e[4]=a*c+u*r+l*o-d*s,e[5]=l*c+u*s+d*r-a*o,e[6]=d*c+u*o+a*s-l*r,e[7]=u*c-a*r-l*s-d*o,e}function ca(e,t,n){var r=n[0],s=n[1],o=n[2],c=n[3],h=t[0],_=t[1],f=t[2],i=t[3];return e[0]=h*c+i*r+_*o-f*s,e[1]=_*c+i*s+f*r-h*o,e[2]=f*c+i*o+h*s-_*r,e[3]=i*c-h*r-_*s-f*o,h=t[4],_=t[5],f=t[6],i=t[7],e[4]=h*c+i*r+_*o-f*s,e[5]=_*c+i*s+f*r-h*o,e[6]=f*c+i*o+h*s-_*r,e[7]=i*c-h*r-_*s-f*o,e}function la(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3],h=n[0],_=n[1],f=n[2],i=n[3];return e[0]=r*i+c*h+s*f-o*_,e[1]=s*i+c*_+o*h-r*f,e[2]=o*i+c*f+r*_-s*h,e[3]=c*i-r*h-s*_-o*f,h=n[4],_=n[5],f=n[6],i=n[7],e[4]=r*i+c*h+s*f-o*_,e[5]=s*i+c*_+o*h-r*f,e[6]=o*i+c*f+r*_-s*h,e[7]=c*i-r*h-s*_-o*f,e}function ha(e,t,n,r){if(Math.abs(r)<T)return Dn(e,t);var s=Math.hypot(n[0],n[1],n[2]);r=r*.5;var o=Math.sin(r),c=o*n[0]/s,h=o*n[1]/s,_=o*n[2]/s,f=Math.cos(r),i=t[0],a=t[1],l=t[2],d=t[3];e[0]=i*f+d*c+a*_-l*h,e[1]=a*f+d*h+l*c-i*_,e[2]=l*f+d*_+i*h-a*c,e[3]=d*f-i*c-a*h-l*_;var u=t[4],m=t[5],p=t[6],v=t[7];return e[4]=u*f+v*c+m*_-p*h,e[5]=m*f+v*h+p*c-u*_,e[6]=p*f+v*_+u*h-m*c,e[7]=v*f-u*c-m*h-p*_,e}function _a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Hn(e,t,n){var r=t[0],s=t[1],o=t[2],c=t[3],h=n[4],_=n[5],f=n[6],i=n[7],a=t[4],l=t[5],d=t[6],u=t[7],m=n[0],p=n[1],v=n[2],x=n[3];return e[0]=r*x+c*m+s*v-o*p,e[1]=s*x+c*p+o*m-r*v,e[2]=o*x+c*v+r*p-s*m,e[3]=c*x-r*m-s*p-o*v,e[4]=r*i+c*h+s*f-o*_+a*x+u*m+l*v-d*p,e[5]=s*i+c*_+o*h-r*f+l*x+u*p+d*m-a*v,e[6]=o*i+c*f+r*_-s*h+d*x+u*v+a*p-l*m,e[7]=c*i-r*h-s*_-o*f+u*x-a*m-l*p-d*v,e}function fa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}function pa(e,t,n,r){var s=1-r;return Bn(t,n)<0&&(r=-r),e[0]=t[0]*s+n[0]*r,e[1]=t[1]*s+n[1]*r,e[2]=t[2]*s+n[2]*r,e[3]=t[3]*s+n[3]*r,e[4]=t[4]*s+n[4]*r,e[5]=t[5]*s+n[5]*r,e[6]=t[6]*s+n[6]*r,e[7]=t[7]*s+n[7]*r,e}function ua(e,t){var n=Qe(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function ma(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}function xa(e,t){var n=Qe(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,s=t[1]/n,o=t[2]/n,c=t[3]/n,h=t[4],_=t[5],f=t[6],i=t[7],a=r*h+s*_+o*f+c*i;e[0]=r,e[1]=s,e[2]=o,e[3]=c,e[4]=(h-r*a)/n,e[5]=(_-s*a)/n,e[6]=(f-o*a)/n,e[7]=(i-c*a)/n}return e}function ya(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function ba(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function wa(e,t){var n=e[0],r=e[1],s=e[2],o=e[3],c=e[4],h=e[5],_=e[6],f=e[7],i=t[0],a=t[1],l=t[2],d=t[3],u=t[4],m=t[5],p=t[6],v=t[7];return Math.abs(n-i)<=T*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=T*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=T*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(o-d)<=T*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(c-u)<=T*Math.max(1,Math.abs(c),Math.abs(u))&&Math.abs(h-m)<=T*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(_-p)<=T*Math.max(1,Math.abs(_),Math.abs(p))&&Math.abs(f-v)<=T*Math.max(1,Math.abs(f),Math.abs(v))}var Ks,ta,da,Bn,zn,va,Qe,ga,Un=I(()=>{se();Ct();ft();Ks=Ge;ta=Ge;da=Hn;Bn=Ye;zn=Ze,va=zn,Qe=$e,ga=Qe});var K=I(()=>{ft();Ct();Un();mt();It()});var Ma={};var Nn=I(()=>{K();WL.registerComponent("cursor",{collisionGroup:{type:WL.Type.Int,default:1},cursorRayObject:{type:WL.Type.Object},cursorRayScalingAxis:{type:WL.Type.Enum,values:["x","y","z","none"],default:"z"},cursorObject:{type:WL.Type.Object},handedness:{type:WL.Type.Enum,values:["input component","left","right","none"],default:"input component"},rayCastMode:{type:WL.Type.Enum,values:["collision","physx"],default:"collision"},styleCursor:{type:WL.Type.Bool,default:!0}},{init:function(){this.session=null,this.collisionMask=1<<this.collisionGroup,this.maxDistance=100;let e=this.onDestroy.bind(this);WL.onSceneLoaded.push(e),this.onDestroyCallbacks=[()=>{let t=WL.onSceneLoaded.indexOf(e);t>=0&&WL.onSceneLoaded.splice(t,1)}]},start:function(){if(this.handedness==0){let t=this.object.getComponent("input");t?(this.handedness=t.handedness,this.input=t):console.warn("cursor component on object",this.object.name,'was configured with handedness "input component", but object has no input component.')}else this.handedness=["left","right"][this.handedness-1];if(this.globalTarget=this.object.addComponent("cursor-target"),this.origin=new Float32Array(3),this.cursorObjScale=new Float32Array(3),this.direction=[0,0,0],this.tempQuat=new Float32Array(4),this.viewComponent=this.object.getComponent("view"),this.viewComponent!=null){let t=this.onClick.bind(this);WL.canvas.addEventListener("click",t);let n=this.onPointerMove.bind(this);WL.canvas.addEventListener("pointermove",n);let r=this.onPointerDown.bind(this);WL.canvas.addEventListener("pointerdown",r);let s=this.onPointerUp.bind(this);WL.canvas.addEventListener("pointerup",s),this.projectionMatrix=new Float32Array(16),pe.invert(this.projectionMatrix,this.viewComponent.projectionMatrix);let o=this.onViewportResize.bind(this);window.addEventListener("resize",o),this.onDestroyCallbacks.push(()=>{WL.canvas.removeEventListener("click",t),WL.canvas.removeEventListener("pointermove",n),WL.canvas.removeEventListener("pointerdown",r),WL.canvas.removeEventListener("pointerup",s),window.removeEventListener("resize",o)})}this.isHovering=!1,this.visible=!0,this.isDown=!1,this.lastIsDown=!1,this.cursorPos=new Float32Array(3),this.hoveringObject=null;let e=this.setupVREvents.bind(this);WL.onXRSessionStart.push(e),this.onDestroyCallbacks.push(()=>{let t=WL.onXRSessionStart.indexOf(e);t>=0&&WL.onXRSessionStart.splice(t,1)}),this.cursorRayObject&&(this.cursorRayScale=new Float32Array(3),this.cursorRayScale.set(this.cursorRayObject.scalingLocal),this.object.getTranslationWorld(this.origin),this.object.getForward(this.direction),this._setCursorRayTransform([this.origin[0]+this.direction[0],this.origin[1]+this.direction[1],this.origin[2]+this.direction[2]]))},onViewportResize:function(){this.viewComponent&&pe.invert(this.projectionMatrix,this.viewComponent.projectionMatrix)},_setCursorRayTransform:function(e){if(!this.cursorRayObject)return;let t=P.dist(this.origin,e);this.cursorRayObject.setTranslationLocal([0,0,-t/2]),this.cursorRayScalingAxis!=4&&(this.cursorRayObject.resetScaling(),this.cursorRayScale[this.cursorRayScalingAxis]=t/2,this.cursorRayObject.scale(this.cursorRayScale))},_setCursorVisibility:function(e){this.visible!=e&&(this.visible=e,this.cursorObject&&(e?(this.cursorObject.resetScaling(),this.cursorObject.scale(this.cursorObjScale)):(this.cursorObjScale.set(this.cursorObject.scalingLocal),this.cursorObject.scale([0,0,0]))))},update:function(){this.doUpdate(!1)},doUpdate:function(e){if(this.session){if(this.arTouchDown&&this.input&&WL.xrSession.inputSources[0].handedness==="none"&&WL.xrSession.inputSources[0].gamepad){let n=WL.xrSession.inputSources[0].gamepad.axes;this.direction=[n[0],-n[1],-1],this.updateDirection()}else this.object.getTranslationWorld(this.origin),this.object.getForward(this.direction);let t=this.rayHit=this.rayCastMode==0?WL.scene.rayCast(this.origin,this.direction,this.collisionMask):WL.physics.rayCast(this.origin,this.direction,this.collisionMask,this.maxDistance);t.hitCount>0?this.cursorPos.set(t.locations[0]):this.cursorPos.fill(0),this.hoverBehaviour(t,e)}this.cursorObject&&(this.hoveringObject&&(this.cursorPos[0]!=0||this.cursorPos[1]!=0||this.cursorPos[2]!=0)?(this._setCursorVisibility(!0),this.cursorObject.setTranslationWorld(this.cursorPos),this._setCursorRayTransform(this.cursorPos)):this._setCursorVisibility(!1))},hoverBehaviour:function(e,t){if(e.hitCount>0){if(!this.hoveringObject||!this.hoveringObject.equals(e.objects[0])){if(this.hoveringObject){let s=this.hoveringObject.getComponent("cursor-target");s&&s.onUnhover(this.hoveringObject,this),this.globalTarget.onUnhover(this.hoveringObject,this)}this.hoveringObject=e.objects[0],this.styleCursor&&(WL.canvas.style.cursor="pointer");let r=this.hoveringObject.getComponent("cursor-target");r&&(this.hoveringObjectTarget=r,r.onHover(this.hoveringObject,this)),this.globalTarget.onHover(this.hoveringObject,this)}this.hoveringObjectTarget&&this.hoveringObjectTarget.onMove(this.hoveringObject,this);let n=this.hoveringObject.getComponent("cursor-target");this.isDown!==this.lastIsDown&&(this.isDown?(n&&n.onDown(this.hoveringObject,this),this.globalTarget.onDown(this.hoveringObject,this)):(n&&n.onUp(this.hoveringObject,this),this.globalTarget.onUp(this.hoveringObject,this))),t&&(n&&n.onClick(this.hoveringObject,this),this.globalTarget.onClick(this.hoveringObject,this))}else if(this.hoveringObject&&e.hitCount==0){let n=this.hoveringObject.getComponent("cursor-target");n&&n.onUnhover(this.hoveringObject,this),this.globalTarget.onUnhover(this.hoveringObject,this),this.hoveringObject=null,this.hoveringObjectTarget=null,this.styleCursor&&(WL.canvas.style.cursor="default")}this.lastIsDown=this.isDown},setupVREvents:function(e){this.session=e;let t=function(o){this.session=null}.bind(this);e.addEventListener("end",t);let n=this.onSelect.bind(this);e.addEventListener("select",n);let r=this.onSelectStart.bind(this);e.addEventListener("selectstart",r);let s=this.onSelectEnd.bind(this);e.addEventListener("selectend",s),this.onDestroyCallbacks.push(()=>{this.session&&(e.removeEventListener("end",t),e.removeEventListener("select",n),e.removeEventListener("selectstart",r),e.removeEventListener("selectend",s))}),this.onViewportResize()},onSelect:function(e){e.inputSource.handedness==this.handedness&&this.doUpdate(!0)},onSelectStart:function(e){this.arTouchDown=!0,e.inputSource.handedness==this.handedness&&(this.isDown=!0)},onSelectEnd:function(e){this.arTouchDown=!1,e.inputSource.handedness==this.handedness&&(this.isDown=!1)},onPointerMove:function(e){if(!e.isPrimary)return;let t=e.target.getBoundingClientRect(),n=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.hoverBehaviour(n,!1)},onClick:function(e){let t=e.target.getBoundingClientRect(),n=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.hoverBehaviour(n,!0)},onPointerDown:function(e){if(!e.isPrimary||e.button!==0)return;let t=e.target.getBoundingClientRect(),n=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.isDown=!0,this.hoverBehaviour(n,!1)},onPointerUp:function(e){if(!e.isPrimary||e.button!==0)return;let t=e.target.getBoundingClientRect(),n=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.isDown=!1,this.hoverBehaviour(n,!1)},updateMousePos:function(e,t,n,r){let s=e/n,o=t/r;return this.direction=[s*2-1,-o*2+1,-1],this.updateDirection()},updateDirection:function(){this.object.getTranslationWorld(this.origin),P.transformMat4(this.direction,this.direction,this.projectionMatrix),P.normalize(this.direction,this.direction),P.transformQuat(this.direction,this.direction,this.object.transformWorld);let e=this.rayHit=this.rayCastMode==0?WL.scene.rayCast(this.origin,this.direction,this.collisionMask):WL.physics.rayCast(this.origin,this.direction,this.collisionMask,this.maxDistance);return e.hitCount>0?this.cursorPos.set(e.locations[0]):this.cursorPos.fill(0),e},onDeactivate:function(){if(this._setCursorVisibility(!1),this.hoveringObject){let e=this.hoveringObject.getComponent("cursor-target");e&&e.onUnhover(this.hoveringObject,this),this.globalTarget.onUnhover(this.hoveringObject,this)}this.cursorRayObject&&this.cursorRayObject.scale([0,0,0])},onActivate:function(){this._setCursorVisibility(!0)},onDestroy:function(){for(let e of this.onDestroyCallbacks)e()}})});var Aa={};var Vn=I(()=>{K();WL.registerComponent("mouse-look",{sensitity:{type:WL.Type.Float,default:.25},requireMouseDown:{type:WL.Type.Bool,default:!0},mouseButtonIndex:{type:WL.Type.Int,default:0},pointerLockOnClick:{type:WL.Type.Bool,default:!1}},{init:function(){this.currentRotationY=0,this.currentRotationX=0,this.origin=new Float32Array(3),this.parentOrigin=new Float32Array(3),document.addEventListener("mousemove",function(e){if(this.active&&(this.mouseDown||!this.requireMouseDown)){this.rotationY=-this.sensitity*e.movementX/100,this.rotationX=-this.sensitity*e.movementY/100,this.currentRotationX+=this.rotationX,this.currentRotationY+=this.rotationY,this.currentRotationX=Math.min(1.507,this.currentRotationX),this.currentRotationX=Math.max(-1.507,this.currentRotationX),this.object.getTranslationWorld(this.origin);let t=this.object.parent;t!==null&&(t.getTranslationWorld(this.parentOrigin),P.sub(this.origin,this.origin,this.parentOrigin)),this.object.resetTranslationRotation(),this.object.rotateAxisAngleRad([1,0,0],this.currentRotationX),this.object.rotateAxisAngleRad([0,1,0],this.currentRotationY),this.object.translate(this.origin)}}.bind(this)),this.pointerLockOnClick&&WL.canvas.addEventListener("mousedown",()=>{WL.canvas.requestPointerLock=WL.canvas.requestPointerLock||WL.canvas.mozRequestPointerLock||WL.canvas.webkitRequestPointerLock,WL.canvas.requestPointerLock()}),this.requireMouseDown&&(this.mouseButtonIndex==2&&WL.canvas.addEventListener("contextmenu",function(e){e.preventDefault()},!1),WL.canvas.addEventListener("mousedown",function(e){if(e.button==this.mouseButtonIndex&&(this.mouseDown=!0,document.body.style.cursor="grabbing",e.button==1))return e.preventDefault(),!1}.bind(this)),WL.canvas.addEventListener("mouseup",function(e){e.button==this.mouseButtonIndex&&(this.mouseDown=!1,document.body.style.cursor="initial")}.bind(this)))},start:function(){this.rotationX=0,this.rotationY=0}})});var Xn=ce(()=>{WL.registerComponent("player-height",{height:{type:WL.Type.Float,default:1.75}},{init:function(){WL.onXRSessionStart.push(this.onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this.onXRSessionEnd.bind(this))},start:function(){this.object.resetTranslationRotation(),this.object.translate([0,this.height,0])},onXRSessionStart:function(){["local","viewer"].includes(WebXR.refSpace)||this.object.resetTranslationRotation()},onXRSessionEnd:function(){["local","viewer"].includes(WebXR.refSpace)||(this.object.resetTranslationRotation(),this.object.translate([0,this.height,0]))}})});var Ta={};var qn=I(()=>{K();WL.registerComponent("hand-tracking",{handedness:{type:WL.Type.Enum,default:"left",values:["left","right"]},jointMesh:{type:WL.Type.Mesh,default:null},jointMaterial:{type:WL.Type.Material,default:null},handSkin:{type:WL.Type.Skin,default:null},deactivateChildrenWithoutPose:{type:WL.Type.Bool,default:!0},controllerToDeactivate:{type:WL.Type.Object}},{ORDERED_JOINTS:["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],init:function(){this.handedness=["left","right"][this.handedness]},start:function(){if(this.joints=[],this.session=null,this.hasPose=!1,this._childrenActive=!0,!("XRHand"in window)){console.warn("WebXR Hand Tracking not supported by this browser."),this.active=!1;return}if(this.handSkin){let t=this.handSkin.jointIds;this.joints[this.ORDERED_JOINTS[0]]=new WL.Object(t[0]);for(let n=0;n<t.length;++n){let r=new WL.Object(t[n]);this.joints[r.name]=r}return}for(let e=0;e<=this.ORDERED_JOINTS.length;++e){let t=WL.scene.addObject(this.object.parent),n=t.addComponent("mesh");n.mesh=this.jointMesh,n.material=this.jointMaterial,this.joints[this.ORDERED_JOINTS[e]]=t}},update:function(e){if(this.session||WL.xrSession&&this.setupVREvents(WL.xrSession),!!this.session){if(this.hasPose=!1,this.session&&this.session.inputSources)for(let t=0;t<=this.session.inputSources.length;++t){let n=this.session.inputSources[t];if(!n||!n.hand||n.handedness!=this.handedness)continue;if(this.hasPose=!0,n.hand.get("wrist")!==null){let o=Module.webxr_frame.getJointPose(n.hand.get("wrist"),WebXR.refSpaces[WebXR.refSpace]);o&&(this.object.resetTranslationRotation(),this.object.transformLocal.set([o.transform.orientation.x,o.transform.orientation.y,o.transform.orientation.z,o.transform.orientation.w]),this.object.translate([o.transform.position.x,o.transform.position.y,o.transform.position.z]))}let r=new Float32Array(3),s=new Float32Array(4);je.invert(s,this.object.transformLocal),this.object.getTranslationLocal(r);for(let o=0;o<this.ORDERED_JOINTS.length;++o){let c=this.ORDERED_JOINTS[o],h=this.joints[c];if(h==null)continue;let _=null;if(n.hand.get(c)!==null&&(_=Module.webxr_frame.getJointPose(n.hand.get(c),WebXR.refSpaces[WebXR.refSpace])),_!==null)if(this.handSkin)h.resetTranslationRotation(),h.translate([_.transform.position.x-r[0],_.transform.position.y-r[1],_.transform.position.z-r[2]]),h.rotate(s),h.rotateObject([_.transform.orientation.x,_.transform.orientation.y,_.transform.orientation.z,_.transform.orientation.w]);else{h.resetTransform(),h.transformLocal.set([_.transform.orientation.x,_.transform.orientation.y,_.transform.orientation.z,_.transform.orientation.w]),h.translate([_.transform.position.x,_.transform.position.y,_.transform.position.z]);let f=_.radius||.007;h.scale([f,f,f])}else this.handSkin||h.scale([0,0,0])}}!this.hasPose&&this._childrenActive?(this._childrenActive=!1,this.deactivateChildrenWithoutPose&&this.setChildrenActive(!1),this.controllerToDeactivate&&(this.controllerToDeactivate.active=!0,this.setChildrenActive(!0,this.controllerToDeactivate))):this.hasPose&&!this._childrenActive&&(this._childrenActive=!0,this.deactivateChildrenWithoutPose&&this.setChildrenActive(!0),this.controllerToDeactivate&&(this.controllerToDeactivate.active=!1,this.setChildrenActive(!1,this.controllerToDeactivate)))}},setChildrenActive:function(e,t){t=t||this.object;let n=t.children;for(let r of n)r.active=e,this.setChildrenActive(e,r)},isGrabbing:function(){let e=[0,0,0];J.getTranslation(e,this.joints["index-finger-tip"].transformLocal);let t=[0,0,0];return J.getTranslation(t,this.joints["thumb-tip"].transformLocal),P.sqrDist(t,e)<.001},setupVREvents:function(e){this.session=e}})});var Sa={};var Gn=I(()=>{K();WL.registerComponent("teleport",{teleportIndicatorMeshObject:{type:WL.Type.Object},camRoot:{type:WL.Type.Object},cam:{type:WL.Type.Object},eyeLeft:{type:WL.Type.Object},eyeRight:{type:WL.Type.Object},handedness:{type:WL.Type.Enum,values:["input component","left","right","none"],default:"input component"},floorGroup:{type:WL.Type.Int,default:1},thumbstickActivationThreshhold:{type:WL.Type.Float,default:-.7},thumbstickDeactivationThreshhold:{type:WL.Type.Float,default:.3},indicatorYOffset:{type:WL.Type.Float,default:.01},rayCastMode:{type:WL.Type.Enum,values:["collision","physx"],default:"collision"},maxDistance:{type:WL.Type.Float,default:100}},{init:function(){if(this._prevThumbstickAxis=new Float32Array(2),this._tempVec=new Float32Array(3),this._tempVec0=new Float32Array(3),this._currentIndicatorRotation=0,this.input=this.object.getComponent("input"),!this.input){console.error(this.object.name,"generic-teleport-component.js: input component is required on the object");return}if(!this.teleportIndicatorMeshObject){console.error(this.object.name,"generic-teleport-component.js: Teleport indicator mesh is missing");return}if(!this.camRoot){console.error(this.object.name,"generic-teleport-component.js: camRoot not set");return}this.isIndicating=!1,this.cam&&(this.isMouseIndicating=!1,WL.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),WL.canvas.addEventListener("mouseup",this.onMouseUp.bind(this))),this.indicatorHidden=!0,this.hitSpot=new Float32Array(3),this._hasHit=!1,this._extraRotation=0,this._currentStickAxes=new Float32Array(2)},start:function(){if(this.handedness==0){let e=this.object.getComponent("input");e?(this.handedness=e.handedness,this.input=e):console.warn("teleport component on object",this.object.name,'was configured with handedness "input component", but object has no input component.')}else this.handedness=["left","right"][this.handedness-1];WL.onXRSessionStart.push(this.setupVREvents.bind(this)),this.teleportIndicatorMeshObject.active=!1},_getCamRotation:function(){return this.eyeLeft.getForward(this._tempVec),this._tempVec[1]=0,P.normalize(this._tempVec,this._tempVec),Math.atan2(this._tempVec[0],this._tempVec[2])},update:function(){let e=0;if(this.gamepad&&this.gamepad.axes&&(this._currentStickAxes[0]=this.gamepad.axes[2],this._currentStickAxes[1]=this.gamepad.axes[3],e=Math.abs(this._currentStickAxes[0])+Math.abs(this._currentStickAxes[1])),!this.isIndicating&&this._prevThumbstickAxis[1]>=this.thumbstickActivationThreshhold&&this._currentStickAxes[1]<this.thumbstickActivationThreshhold?this.isIndicating=!0:this.isIndicating&&e<this.thumbstickDeactivationThreshhold&&(this.isIndicating=!1,this.teleportIndicatorMeshObject.active=!1,this._hasHit&&this._teleportPlayer(this.hitSpot,this._extraRotation)),this.isIndicating&&this.teleportIndicatorMeshObject&&this.input){let t=this._tempVec0;J.getTranslation(t,this.object.transformWorld);let n=this.object.getForward(this._tempVec),r=this.rayHit=this.rayCastMode==0?WL.scene.rayCast(t,n,1<<this.floorGroup):WL.physics.rayCast(t,n,1<<this.floorGroup,this.maxDistance);r.hitCount>0?(this.indicatorHidden=!1,this._extraRotation=Math.PI+Math.atan2(this._currentStickAxes[0],this._currentStickAxes[1]),this._currentIndicatorRotation=this._getCamRotation()+(this._extraRotation-Math.PI),this.teleportIndicatorMeshObject.resetTranslationRotation(),this.teleportIndicatorMeshObject.rotateAxisAngleRad([0,1,0],this._currentIndicatorRotation),this.teleportIndicatorMeshObject.translate(r.locations[0]),this.teleportIndicatorMeshObject.translate([0,this.indicatorYOffset,0]),this.teleportIndicatorMeshObject.active=!0,this.hitSpot.set(r.locations[0]),this._hasHit=!0):(this.indicatorHidden||(this.teleportIndicatorMeshObject.active=!1,this.indicatorHidden=!0),this._hasHit=!1)}else this.teleportIndicatorMeshObject&&this.isMouseIndicating&&this.onMousePressed();this._prevThumbstickAxis.set(this._currentStickAxes)},setupVREvents:function(e){if(this.session=e,e.addEventListener("end",function(){this.gamepad=null,this.session=null}.bind(this)),e.inputSources&&e.inputSources.length)for(let t=0;t<e.inputSources.length;t++){let n=e.inputSources[t];n.handedness==this.handedness&&(this.gamepad=n.gamepad)}e.addEventListener("inputsourceschange",function(t){if(t.added&&t.added.length)for(let n=0;n<t.added.length;n++){let r=t.added[n];r.handedness==this.handedness&&(this.gamepad=r.gamepad)}}.bind(this))},onMouseDown:function(){this.isMouseIndicating=!0},onMouseUp:function(){this.isMouseIndicating=!1,this.teleportIndicatorMeshObject.active=!1,this._hasHit&&this._teleportPlayer(this.hitSpot,0)},onMousePressed:function(){let e=[0,0,0];J.getTranslation(e,this.cam.transformWorld);let t=this.cam.getForward(this._tempVec),n=this.rayHit=this.rayCastMode==0?WL.scene.rayCast(e,t,1<<this.floorGroup):WL.physics.rayCast(e,t,1<<this.floorGroup,this.maxDistance);n.hitCount>0?(this.indicatorHidden=!1,t[1]=0,P.normalize(t,t),this._currentIndicatorRotation=-Math.sign(t[2])*Math.acos(t[0])-Math.PI*.5,this.teleportIndicatorMeshObject.resetTranslationRotation(),this.teleportIndicatorMeshObject.rotateAxisAngleRad([0,1,0],this._currentIndicatorRotation),this.teleportIndicatorMeshObject.translate(n.locations[0]),this.teleportIndicatorMeshObject.active=!0,this.hitSpot=n.locations[0],this._hasHit=!0):(this.indicatorHidden||(this.teleportIndicatorMeshObject.active=!1,this.indicatorHidden=!0),this._hasHit=!1)},_teleportPlayer:function(e,t){this.camRoot.rotateAxisAngleRad([0,1,0],t);let n=this._tempVec,r=this._tempVec0;this.session?(this.eyeLeft.getTranslationWorld(n),this.eyeRight.getTranslationWorld(r),P.add(n,n,r),P.scale(n,n,.5)):this.cam.getTranslationWorld(n),this.camRoot.getTranslationWorld(r),P.sub(n,r,n),n[0]+=e[0],n[1]=e[1],n[2]+=e[2],this.camRoot.setTranslationWorld(n)}})});var Yn=ce(()=>{WL.registerComponent("vr-mode-active-switch",{activateComponents:{type:WL.Type.Enum,values:["in VR","in non-VR"],default:"in VR"},affectChildren:{type:WL.Type.Bool,default:!0}},{start:function(){this.components=[],this.getComponents(this.object),this.onXRSessionEnd(),WL.onXRSessionStart.push(this.onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this.onXRSessionEnd.bind(this))},getComponents:function(e){let t=e.getComponents().filter(n=>n.type!="vr-mode-active-switch");if(this.components=this.components.concat(t),this.affectChildren){let n=e.children;for(let r=0;r<n.length;++r)this.getComponents(n[r])}},setComponentsActive:function(e){let t=this.components;for(let n=0;n<t.length;++n)t[n].active=e},onXRSessionStart:function(){this.active&&this.setComponentsActive(this.activateComponents==0)},onXRSessionEnd:function(){this.active&&this.setComponentsActive(this.activateComponents!=0)}})});var Rt=ce(Je=>{(function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var i=this||t;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var a=this||t;if(i=parseFloat(i),a.ctx||f(),typeof i<"u"&&i>=0&&i<=1){if(a._volume=i,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(i,t.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var d=a._howls[l]._getSoundIds(),u=0;u<d.length;u++){var m=a._howls[l]._soundById(d[u]);m&&m._node&&(m._node.volume=m._volume*i)}return a}return a._volume},mute:function(i){var a=this||t;a.ctx||f(),a._muted=i,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(i?0:a._volume,t.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var d=a._howls[l]._getSoundIds(),u=0;u<d.length;u++){var m=a._howls[l]._soundById(d[u]);m&&m._node&&(m._node.muted=i?!0:m._muted)}return a},stop:function(){for(var i=this||t,a=0;a<i._howls.length;a++)i._howls[a].stop();return i},unload:function(){for(var i=this||t,a=i._howls.length-1;a>=0;a--)i._howls[a].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,f()),i},codecs:function(i){return(this||t)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||t;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var a=new Audio;a.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||t,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return i}if(!a||typeof a.canPlayType!="function")return i;var l=a.canPlayType("audio/mpeg;").replace(/^no$/,""),d=i._navigator?i._navigator.userAgent:"",u=d.match(/OPR\/([0-6].)/g),m=u&&parseInt(u[0].split("/")[1],10)<33,p=d.indexOf("Safari")!==-1&&d.indexOf("Chrome")===-1,v=d.match(/Version\/(.*?) /),x=p&&v&&parseInt(v[1],10)<15;return i._codecs={mp3:!!(!m&&(l||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!l,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||t;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var a=function(l){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var d=new Audio;d._unlocked=!0,i._releaseHtml5Audio(d)}catch{i.noAudio=!0;break}for(var u=0;u<i._howls.length;u++)if(!i._howls[u]._webAudio)for(var m=i._howls[u]._getSoundIds(),p=0;p<m.length;p++){var v=i._howls[u]._soundById(m[p]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}i._autoResume();var x=i.ctx.createBufferSource();x.buffer=i._scratchBuffer,x.connect(i.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),x.onended=function(){x.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var y=0;y<i._howls.length;y++)i._howls[y]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),i}},_obtainHtml5Audio:function(){var i=this||t;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var a=this||t;return i._unlocked&&a._html5AudioPool.push(i),a},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!t.usingWebAudio)){for(var a=0;a<i._howls.length;a++)if(i._howls[a]._webAudio){for(var l=0;l<i._howls[a]._sounds.length;l++)if(!i._howls[a]._sounds[l]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var d=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(d,d)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!t.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var a=0;a<i._howls.length;a++)i._howls[a]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var t=new e,n=function(i){var a=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(i)};n.prototype={init:function(i){var a=this;return t.ctx||f(),a._autoplay=i.autoplay||!1,a._format=typeof i.format!="string"?i.format:[i.format],a._html5=i.html5||!1,a._muted=i.mute||!1,a._loop=i.loop||!1,a._pool=i.pool||5,a._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,a._rate=i.rate||1,a._sprite=i.sprite||{},a._src=typeof i.src!="string"?i.src:[i.src],a._volume=i.volume!==void 0?i.volume:1,a._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=i.onend?[{fn:i.onend}]:[],a._onfade=i.onfade?[{fn:i.onfade}]:[],a._onload=i.onload?[{fn:i.onload}]:[],a._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],a._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],a._onpause=i.onpause?[{fn:i.onpause}]:[],a._onplay=i.onplay?[{fn:i.onplay}]:[],a._onstop=i.onstop?[{fn:i.onstop}]:[],a._onmute=i.onmute?[{fn:i.onmute}]:[],a._onvolume=i.onvolume?[{fn:i.onvolume}]:[],a._onrate=i.onrate?[{fn:i.onrate}]:[],a._onseek=i.onseek?[{fn:i.onseek}]:[],a._onunlock=i.onunlock?[{fn:i.onunlock}]:[],a._onresume=[],a._webAudio=t.usingWebAudio&&!a._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var i=this,a=null;if(t.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var l=0;l<i._src.length;l++){var d,u;if(i._format&&i._format[l])d=i._format[l];else{if(u=i._src[l],typeof u!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}d=/^data:audio\/([^;,]+);/i.exec(u),d||(d=/\.([^.]+)$/.exec(u.split("?",1)[0])),d&&(d=d[1].toLowerCase())}if(d||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),d&&t.codecs(d)){a=i._src[l];break}}if(!a){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=a,i._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new r(i),i._webAudio&&o(i),i},play:function(i,a){var l=this,d=null;if(typeof i=="number")d=i,i=null;else{if(typeof i=="string"&&l._state==="loaded"&&!l._sprite[i])return null;if(typeof i>"u"&&(i="__default",!l._playLock)){for(var u=0,m=0;m<l._sounds.length;m++)l._sounds[m]._paused&&!l._sounds[m]._ended&&(u++,d=l._sounds[m]._id);u===1?i=null:d=null}}var p=d?l._soundById(d):l._inactiveSound();if(!p)return null;if(d&&!i&&(i=p._sprite||"__default"),l._state!=="loaded"){p._sprite=i,p._ended=!1;var v=p._id;return l._queue.push({event:"play",action:function(){l.play(v)}}),v}if(d&&!p._paused)return a||l._loadQueue("play"),p._id;l._webAudio&&t._autoResume();var x=Math.max(0,p._seek>0?p._seek:l._sprite[i][0]/1e3),y=Math.max(0,(l._sprite[i][0]+l._sprite[i][1])/1e3-x),b=y*1e3/Math.abs(p._rate),w=l._sprite[i][0]/1e3,M=(l._sprite[i][0]+l._sprite[i][1])/1e3;p._sprite=i,p._ended=!1;var E=function(){p._paused=!1,p._seek=x,p._start=w,p._stop=M,p._loop=!!(p._loop||l._sprite[i][2])};if(x>=M){l._ended(p);return}var A=p._node;if(l._webAudio){var C=function(){l._playLock=!1,E(),l._refreshBuffer(p);var F=p._muted||l._muted?0:p._volume;A.gain.setValueAtTime(F,t.ctx.currentTime),p._playStart=t.ctx.currentTime,typeof A.bufferSource.start>"u"?p._loop?A.bufferSource.noteGrainOn(0,x,86400):A.bufferSource.noteGrainOn(0,x,y):p._loop?A.bufferSource.start(0,x,86400):A.bufferSource.start(0,x,y),b!==1/0&&(l._endTimers[p._id]=setTimeout(l._ended.bind(l,p),b)),a||setTimeout(function(){l._emit("play",p._id),l._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?C():(l._playLock=!0,l.once("resume",C),l._clearTimer(p._id))}else{var R=function(){A.currentTime=x,A.muted=p._muted||l._muted||t._muted||A.muted,A.volume=p._volume*t.volume(),A.playbackRate=p._rate;try{var F=A.play();if(F&&typeof Promise<"u"&&(F instanceof Promise||typeof F.then=="function")?(l._playLock=!0,E(),F.then(function(){l._playLock=!1,A._unlocked=!0,a?l._loadQueue():l._emit("play",p._id)}).catch(function(){l._playLock=!1,l._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):a||(l._playLock=!1,E(),l._emit("play",p._id)),A.playbackRate=p._rate,A.paused){l._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||p._loop?l._endTimers[p._id]=setTimeout(l._ended.bind(l,p),b):(l._endTimers[p._id]=function(){l._ended(p),A.removeEventListener("ended",l._endTimers[p._id],!1)},A.addEventListener("ended",l._endTimers[p._id],!1))}catch(O){l._emit("playerror",p._id,O)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=l._src,A.load());var D=window&&window.ejecta||!A.readyState&&t._navigator.isCocoonJS;if(A.readyState>=3||D)R();else{l._playLock=!0,l._state="loading";var k=function(){l._state="loaded",R(),A.removeEventListener(t._canPlayEvent,k,!1)};A.addEventListener(t._canPlayEvent,k,!1),l._clearTimer(p._id)}}return p._id},pause:function(i){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(i)}}),a;for(var l=a._getSoundIds(i),d=0;d<l.length;d++){a._clearTimer(l[d]);var u=a._soundById(l[d]);if(u&&!u._paused&&(u._seek=a.seek(l[d]),u._rateSeek=0,u._paused=!0,a._stopFade(l[d]),u._node))if(a._webAudio){if(!u._node.bufferSource)continue;typeof u._node.bufferSource.stop>"u"?u._node.bufferSource.noteOff(0):u._node.bufferSource.stop(0),a._cleanBuffer(u._node)}else(!isNaN(u._node.duration)||u._node.duration===1/0)&&u._node.pause();arguments[1]||a._emit("pause",u?u._id:null)}return a},stop:function(i,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(i)}}),l;for(var d=l._getSoundIds(i),u=0;u<d.length;u++){l._clearTimer(d[u]);var m=l._soundById(d[u]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,l._stopFade(d[u]),m._node&&(l._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),l._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&l._clearSound(m._node))),a||l._emit("stop",m._id))}return l},mute:function(i,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"mute",action:function(){l.mute(i,a)}}),l;if(typeof a>"u")if(typeof i=="boolean")l._muted=i;else return l._muted;for(var d=l._getSoundIds(a),u=0;u<d.length;u++){var m=l._soundById(d[u]);m&&(m._muted=i,m._interval&&l._stopFade(m._id),l._webAudio&&m._node?m._node.gain.setValueAtTime(i?0:m._volume,t.ctx.currentTime):m._node&&(m._node.muted=t._muted?!0:i),l._emit("mute",m._id))}return l},volume:function(){var i=this,a=arguments,l,d;if(a.length===0)return i._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var u=i._getSoundIds(),m=u.indexOf(a[0]);m>=0?d=parseInt(a[0],10):l=parseFloat(a[0])}else a.length>=2&&(l=parseFloat(a[0]),d=parseInt(a[1],10));var p;if(typeof l<"u"&&l>=0&&l<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;typeof d>"u"&&(i._volume=l),d=i._getSoundIds(d);for(var v=0;v<d.length;v++)p=i._soundById(d[v]),p&&(p._volume=l,a[2]||i._stopFade(d[v]),i._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(l,t.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=l*t.volume()),i._emit("volume",p._id))}else return p=d?i._soundById(d):i._sounds[0],p?p._volume:0;return i},fade:function(i,a,l,d){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"fade",action:function(){u.fade(i,a,l,d)}}),u;i=Math.min(Math.max(0,parseFloat(i)),1),a=Math.min(Math.max(0,parseFloat(a)),1),l=parseFloat(l),u.volume(i,d);for(var m=u._getSoundIds(d),p=0;p<m.length;p++){var v=u._soundById(m[p]);if(v){if(d||u._stopFade(m[p]),u._webAudio&&!v._muted){var x=t.ctx.currentTime,y=x+l/1e3;v._volume=i,v._node.gain.setValueAtTime(i,x),v._node.gain.linearRampToValueAtTime(a,y)}u._startFadeInterval(v,i,a,l,m[p],typeof d>"u")}}return u},_startFadeInterval:function(i,a,l,d,u,m){var p=this,v=a,x=l-a,y=Math.abs(x/.01),b=Math.max(4,y>0?d/y:d),w=Date.now();i._fadeTo=l,i._interval=setInterval(function(){var M=(Date.now()-w)/d;w=Date.now(),v+=x*M,v=Math.round(v*100)/100,x<0?v=Math.max(l,v):v=Math.min(l,v),p._webAudio?i._volume=v:p.volume(v,i._id,!0),m&&(p._volume=v),(l<a&&v<=l||l>a&&v>=l)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,p.volume(l,i._id),p._emit("fade",i._id))},b)},_stopFade:function(i){var a=this,l=a._soundById(i);return l&&l._interval&&(a._webAudio&&l._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(l._interval),l._interval=null,a.volume(l._fadeTo,i),l._fadeTo=null,a._emit("fade",i)),a},loop:function(){var i=this,a=arguments,l,d,u;if(a.length===0)return i._loop;if(a.length===1)if(typeof a[0]=="boolean")l=a[0],i._loop=l;else return u=i._soundById(parseInt(a[0],10)),u?u._loop:!1;else a.length===2&&(l=a[0],d=parseInt(a[1],10));for(var m=i._getSoundIds(d),p=0;p<m.length;p++)u=i._soundById(m[p]),u&&(u._loop=l,i._webAudio&&u._node&&u._node.bufferSource&&(u._node.bufferSource.loop=l,l&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop,i.playing(m[p])&&(i.pause(m[p],!0),i.play(m[p],!0)))));return i},rate:function(){var i=this,a=arguments,l,d;if(a.length===0)d=i._sounds[0]._id;else if(a.length===1){var u=i._getSoundIds(),m=u.indexOf(a[0]);m>=0?d=parseInt(a[0],10):l=parseFloat(a[0])}else a.length===2&&(l=parseFloat(a[0]),d=parseInt(a[1],10));var p;if(typeof l=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;typeof d>"u"&&(i._rate=l),d=i._getSoundIds(d);for(var v=0;v<d.length;v++)if(p=i._soundById(d[v]),p){i.playing(d[v])&&(p._rateSeek=i.seek(d[v]),p._playStart=i._webAudio?t.ctx.currentTime:p._playStart),p._rate=l,i._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(l,t.ctx.currentTime):p._node&&(p._node.playbackRate=l);var x=i.seek(d[v]),y=(i._sprite[p._sprite][0]+i._sprite[p._sprite][1])/1e3-x,b=y*1e3/Math.abs(p._rate);(i._endTimers[d[v]]||!p._paused)&&(i._clearTimer(d[v]),i._endTimers[d[v]]=setTimeout(i._ended.bind(i,p),b)),i._emit("rate",p._id)}}else return p=i._soundById(d),p?p._rate:i._rate;return i},seek:function(){var i=this,a=arguments,l,d;if(a.length===0)i._sounds.length&&(d=i._sounds[0]._id);else if(a.length===1){var u=i._getSoundIds(),m=u.indexOf(a[0]);m>=0?d=parseInt(a[0],10):i._sounds.length&&(d=i._sounds[0]._id,l=parseFloat(a[0]))}else a.length===2&&(l=parseFloat(a[0]),d=parseInt(a[1],10));if(typeof d>"u")return 0;if(typeof l=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,a)}}),i;var p=i._soundById(d);if(p)if(typeof l=="number"&&l>=0){var v=i.playing(d);v&&i.pause(d,!0),p._seek=l,p._ended=!1,i._clearTimer(d),!i._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=l);var x=function(){v&&i.play(d,!0),i._emit("seek",d)};if(v&&!i._webAudio){var y=function(){i._playLock?setTimeout(y,0):x()};setTimeout(y,0)}else x()}else if(i._webAudio){var b=i.playing(d)?t.ctx.currentTime-p._playStart:0,w=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(w+b*Math.abs(p._rate))}else return p._node.currentTime;return i},playing:function(i){var a=this;if(typeof i=="number"){var l=a._soundById(i);return l?!l._paused:!1}for(var d=0;d<a._sounds.length;d++)if(!a._sounds[d]._paused)return!0;return!1},duration:function(i){var a=this,l=a._duration,d=a._soundById(i);return d&&(l=a._sprite[d._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var i=this,a=i._sounds,l=0;l<a.length;l++)a[l]._paused||i.stop(a[l]._id),i._webAudio||(i._clearSound(a[l]._node),a[l]._node.removeEventListener("error",a[l]._errorFn,!1),a[l]._node.removeEventListener(t._canPlayEvent,a[l]._loadFn,!1),a[l]._node.removeEventListener("ended",a[l]._endFn,!1),t._releaseHtml5Audio(a[l]._node)),delete a[l]._node,i._clearTimer(a[l]._id);var d=t._howls.indexOf(i);d>=0&&t._howls.splice(d,1);var u=!0;for(l=0;l<t._howls.length;l++)if(t._howls[l]._src===i._src||i._src.indexOf(t._howls[l]._src)>=0){u=!1;break}return s&&u&&delete s[i._src],t.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,a,l,d){var u=this,m=u["_on"+i];return typeof a=="function"&&m.push(d?{id:l,fn:a,once:d}:{id:l,fn:a}),u},off:function(i,a,l){var d=this,u=d["_on"+i],m=0;if(typeof a=="number"&&(l=a,a=null),a||l)for(m=0;m<u.length;m++){var p=l===u[m].id;if(a===u[m].fn&&p||!a&&p){u.splice(m,1);break}}else if(i)d["_on"+i]=[];else{var v=Object.keys(d);for(m=0;m<v.length;m++)v[m].indexOf("_on")===0&&Array.isArray(d[v[m]])&&(d[v[m]]=[])}return d},once:function(i,a,l){var d=this;return d.on(i,a,l,1),d},_emit:function(i,a,l){for(var d=this,u=d["_on"+i],m=u.length-1;m>=0;m--)(!u[m].id||u[m].id===a||i==="load")&&(setTimeout(function(p){p.call(this,a,l)}.bind(d,u[m].fn),0),u[m].once&&d.off(i,u[m].fn,u[m].id));return d._loadQueue(i),d},_loadQueue:function(i){var a=this;if(a._queue.length>0){var l=a._queue[0];l.event===i&&(a._queue.shift(),a._loadQueue()),i||l.action()}return a},_ended:function(i){var a=this,l=i._sprite;if(!a._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(a._ended.bind(a,i),100),a;var d=!!(i._loop||a._sprite[l][2]);if(a._emit("end",i._id),!a._webAudio&&d&&a.stop(i._id,!0).play(i._id),a._webAudio&&d){a._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=t.ctx.currentTime;var u=(i._stop-i._start)*1e3/Math.abs(i._rate);a._endTimers[i._id]=setTimeout(a._ended.bind(a,i),u)}return a._webAudio&&!d&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,a._clearTimer(i._id),a._cleanBuffer(i._node),t._autoSuspend()),!a._webAudio&&!d&&a.stop(i._id,!0),a},_clearTimer:function(i){var a=this;if(a._endTimers[i]){if(typeof a._endTimers[i]!="function")clearTimeout(a._endTimers[i]);else{var l=a._soundById(i);l&&l._node&&l._node.removeEventListener("ended",a._endTimers[i],!1)}delete a._endTimers[i]}return a},_soundById:function(i){for(var a=this,l=0;l<a._sounds.length;l++)if(i===a._sounds[l]._id)return a._sounds[l];return null},_inactiveSound:function(){var i=this;i._drain();for(var a=0;a<i._sounds.length;a++)if(i._sounds[a]._ended)return i._sounds[a].reset();return new r(i)},_drain:function(){var i=this,a=i._pool,l=0,d=0;if(!(i._sounds.length<a)){for(d=0;d<i._sounds.length;d++)i._sounds[d]._ended&&l++;for(d=i._sounds.length-1;d>=0;d--){if(l<=a)return;i._sounds[d]._ended&&(i._webAudio&&i._sounds[d]._node&&i._sounds[d]._node.disconnect(0),i._sounds.splice(d,1),l--)}}},_getSoundIds:function(i){var a=this;if(typeof i>"u"){for(var l=[],d=0;d<a._sounds.length;d++)l.push(a._sounds[d]._id);return l}else return[i]},_refreshBuffer:function(i){var a=this;return i._node.bufferSource=t.ctx.createBufferSource(),i._node.bufferSource.buffer=s[a._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,t.ctx.currentTime),a},_cleanBuffer:function(i){var a=this,l=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),l))try{i.bufferSource.buffer=t._scratchBuffer}catch{}return i.bufferSource=null,a},_clearSound:function(i){var a=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);a||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(i){this._parent=i,this.init()};r.prototype={init:function(){var i=this,a=i._parent;return i._muted=a._muted,i._loop=a._loop,i._volume=a._volume,i._rate=a._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,a._sounds.push(i),i.create(),i},create:function(){var i=this,a=i._parent,l=t._muted||i._muted||i._parent._muted?0:i._volume;return a._webAudio?(i._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),i._node.gain.setValueAtTime(l,t.ctx.currentTime),i._node.paused=!0,i._node.connect(t.masterGain)):t.noAudio||(i._node=t._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(t._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=a._src,i._node.preload=a._preload===!0?"auto":a._preload,i._node.volume=l*t.volume(),i._node.load()),i},reset:function(){var i=this,a=i._parent;return i._muted=a._muted,i._loop=a._loop,i._volume=a._volume,i._rate=a._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,a=i._parent;a._duration=Math.ceil(i._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),i._node.removeEventListener(t._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,a=i._parent;a._duration===1/0&&(a._duration=Math.ceil(i._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var s={},o=function(i){var a=i._src;if(s[a]){i._duration=s[a].duration,_(i);return}if(/^data:[^;]+;base64,/.test(a)){for(var l=atob(a.split(",")[1]),d=new Uint8Array(l.length),u=0;u<l.length;++u)d[u]=l.charCodeAt(u);h(d.buffer,i)}else{var m=new XMLHttpRequest;m.open(i._xhr.method,a,!0),m.withCredentials=i._xhr.withCredentials,m.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(p){m.setRequestHeader(p,i._xhr.headers[p])}),m.onload=function(){var p=(m.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}h(m.response,i)},m.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete s[a],i.load())},c(m)}},c=function(i){try{i.send()}catch{i.onerror()}},h=function(i,a){var l=function(){a._emit("loaderror",null,"Decoding audio data failed.")},d=function(u){u&&a._sounds.length>0?(s[a._src]=u,_(a,u)):l()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(i).then(d).catch(l):t.ctx.decodeAudioData(i,d,l)},_=function(i,a){a&&!i._duration&&(i._duration=a.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},f=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),a=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l=a?parseInt(a[1],10):null;if(i&&l&&l<9){var d=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!d&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:t,Howl:n}}),typeof Je<"u"&&(Je.Howler=t,Je.Howl=n),typeof global<"u"?(global.HowlerGlobal=e,global.Howler=t,global.Howl=n,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=r)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var r=n._howls.length-1;r>=0;r--)n._howls[r].stereo(t);return n},HowlerGlobal.prototype.pos=function(t,n,r){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,r=typeof r!="number"?s._pos[2]:r,typeof t=="number")s._pos=[t,n,r],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,n,r,s,o,c){var h=this;if(!h.ctx||!h.ctx.listener)return h;var _=h._orientation;if(n=typeof n!="number"?_[1]:n,r=typeof r!="number"?_[2]:r,s=typeof s!="number"?_[3]:s,o=typeof o!="number"?_[4]:o,c=typeof c!="number"?_[5]:c,typeof t=="number")h._orientation=[t,n,r,s,o,c],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(t,n,r,s,o,c);else return _;return h},Howl.prototype.init=function(t){return function(n){var r=this;return r._orientation=n.orientation||[1,0,0],r._stereo=n.stereo||null,r._pos=n.pos||null,r._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},r._onstereo=n.onstereo?[{fn:n.onstereo}]:[],r._onpos=n.onpos?[{fn:n.onpos}]:[],r._onorientation=n.onorientation?[{fn:n.onorientation}]:[],t.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof t=="number")r._stereo=t,r._pos=[t,0,0];else return r._stereo;for(var o=r._getSoundIds(n),c=0;c<o.length;c++){var h=r._soundById(o[c]);if(h)if(typeof t=="number")h._stereo=t,h._pos=[t,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&e(h,s),s==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(t,0,0):h._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",h._id);else return h._stereo}return r},Howl.prototype.pos=function(t,n,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,n,r,s)}}),o;if(n=typeof n!="number"?0:n,r=typeof r!="number"?-.5:r,typeof s>"u")if(typeof t=="number")o._pos=[t,n,r];else return o._pos;for(var c=o._getSoundIds(s),h=0;h<c.length;h++){var _=o._soundById(c[h]);if(_)if(typeof t=="number")_._pos=[t,n,r],_._node&&((!_._panner||_._panner.pan)&&e(_,"spatial"),typeof _._panner.positionX<"u"?(_._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):_._panner.setPosition(t,n,r)),o._emit("pos",_._id);else return _._pos}return o},Howl.prototype.orientation=function(t,n,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,r,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,r=typeof r!="number"?o._orientation[2]:r,typeof s>"u")if(typeof t=="number")o._orientation=[t,n,r];else return o._orientation;for(var c=o._getSoundIds(s),h=0;h<c.length;h++){var _=o._soundById(c[h]);if(_)if(typeof t=="number")_._orientation=[t,n,r],_._node&&(_._panner||(_._pos||(_._pos=o._pos||[0,0,-.5]),e(_,"spatial")),typeof _._panner.orientationX<"u"?(_._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),_._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),_._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):_._panner.setOrientation(t,n,r)),o._emit("orientation",_._id);else return _._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,n=arguments,r,s,o;if(!t._webAudio)return t;if(n.length===0)return t._pannerAttr;if(n.length===1)if(typeof n[0]=="object")r=n[0],typeof s>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),t._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(n[0],10)),o?o._pannerAttr:t._pannerAttr;else n.length===2&&(r=n[0],s=parseInt(n[1],10));for(var c=t._getSoundIds(s),h=0;h<c.length;h++)if(o=t._soundById(c[h]),o){var _=o._pannerAttr;_={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:_.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:_.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:_.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:_.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:_.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:_.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:_.panningModel};var f=o._panner;f?(f.coneInnerAngle=_.coneInnerAngle,f.coneOuterAngle=_.coneOuterAngle,f.coneOuterGain=_.coneOuterGain,f.distanceModel=_.distanceModel,f.maxDistance=_.maxDistance,f.refDistance=_.refDistance,f.rolloffFactor=_.rolloffFactor,f.panningModel=_.panningModel):(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var n=this,r=n._parent;n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,t.call(this),n._stereo?r.stereo(n._stereo):n._pos&&r.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var n=this,r=n._parent;return n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,n._stereo?r.stereo(n._stereo):n._pos?r.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,r._refreshBuffer(n)),t.call(this)}}(Sound.prototype.reset);var e=function(t,n){n=n||"spatial",n==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()});var ja={};var so,Zn=I(()=>{so=Gt(Rt());WL.registerComponent("howler-audio-listener",{spatial:{type:WL.Type.Bool,default:!0}},{init:function(){this.origin=new Float32Array(3),this.fwd=new Float32Array(3),this.up=new Float32Array(3)},update:function(){this.spatial&&(this.object.getTranslationWorld(this.origin),this.object.getForward(this.fwd),this.object.getUp(this.up),Howler.pos(this.origin[0],this.origin[1],this.origin[2]),Howler.orientation(this.fwd[0],this.fwd[1],this.fwd[2],this.up[0],this.up[1],this.up[2]))}})});var Ia={};var $n,Qn=I(()=>{$n=Gt(Rt());WL.registerComponent("howler-audio-source",{volume:{type:WL.Type.Float,default:1},spatial:{type:WL.Type.Bool,default:!0},loop:{type:WL.Type.Bool,default:!1},autoplay:{type:WL.Type.Bool,default:!1},src:{type:WL.Type.String,default:""}},{start:function(){this.audio=new $n.Howl({src:[this.src],loop:this.loop,volume:this.volume,autoplay:this.autoplay}),this.lastPlayedAudioId=null,this.origin=new Float32Array(3),this.lastOrigin=new Float32Array(3),this.spatial&&this.autoplay&&(this.updatePosition(),this.play());let e=()=>{this.stop();let t=WL.onSceneLoaded.indexOf(e);t>=0&&WL.onSceneLoaded.splice(t,1)};WL.onSceneLoaded.push(e)},update:function(){!this.spatial||!this.lastPlayedAudioId||(this.object.getTranslationWorld(this.origin),(Math.abs(this.lastOrigin[0]-this.origin[0])>.005||Math.abs(this.lastOrigin[1]-this.origin[1])>.005||Math.abs(this.lastOrigin[2]-this.origin[2])>.005)&&this.updatePosition())},updatePosition:function(){this.audio.pos(this.origin[0],this.origin[1],this.origin[2],this.lastPlayedAudioId),this.lastOrigin.set(this.origin)},play:function(){this.lastPlayedAudioId&&this.audio.stop(this.lastPlayedAudioId),this.lastPlayedAudioId=this.audio.play(),this.spatial&&this.updatePosition()},stop:function(){this.lastPlayedAudioId&&(this.audio.stop(this.lastPlayedAudioId),this.lastPlayedAudioId=null)}})});var Jn=ce(()=>{WL.registerComponent("button",{buttonMeshObject:{type:WL.Type.Object},hoverMaterial:{type:WL.Type.Material}},{start:function(){this.mesh=this.buttonMeshObject.getComponent("mesh"),this.defaultMaterial=this.mesh.material,this.target=this.object.getComponent("cursor-target"),this.target.addHoverFunction(this.onHover.bind(this)),this.target.addUnHoverFunction(this.onUnHover.bind(this)),this.target.addDownFunction(this.onDown.bind(this)),this.target.addUpFunction(this.onUp.bind(this)),this.soundClick=this.object.addComponent("howler-audio-source",{src:"sfx/click.wav",spatial:!0}),this.soundUnClick=this.object.addComponent("howler-audio-source",{src:"sfx/unclick.wav",spatial:!0})},onHover:function(e,t){this.mesh.material=this.hoverMaterial,t.type=="finger-cursor"&&this.onDown(e,t),this.hapticFeedback(t.object,.5,50)},onDown:function(e,t){this.soundClick.play(),this.buttonMeshObject.translate([0,-.1,0]),this.hapticFeedback(t.object,1,20)},onUp:function(e,t){this.soundUnClick.play(),this.buttonMeshObject.translate([0,.1,0]),this.hapticFeedback(t.object,.7,20)},onUnHover:function(e,t){this.mesh.material=this.defaultMaterial,t.type=="finger-cursor"&&this.onUp(e,t),this.hapticFeedback(t.object,.3,50)},hapticFeedback:function(e,t,n){let r=e.getComponent("input");if(r&&r.xrInputSource){let s=r.xrInputSource.gamepad;s&&s.hapticActuators&&s.hapticActuators[0].pulse(t,n)}}})});var Kn=I(()=>{});var ue,er=I(()=>{ue=class{static setTag(t,n){t[this.tagKey]=n}static hasTag(t,n){return!(!t[this.tagKey]&&t[this.tagKey]!==n)}static getTag(t){return t[this.tagKey]?t[this.tagKey]:null}};ue.tagKey="TAG"});var tr={};N(tr,{default:()=>me});var me,nr=I(()=>{Z();Kn();er();me=class extends W{start(){ue.setTag(this.object,parseInt(this.tag))}};me.TypeName="tag-component",me.Properties={tag:{type:j.Enum,values:[0 .toString(),1 .toString()]}}});var rr={};N(rr,{SecondTestComponent:()=>Ie});var Ie,ir=I(()=>{Z();Ie=class extends W{start(){this._mesh=this.object.getComponent("mesh");let n=this._mesh.material.clone();this._mesh.material=n,this.color=[this.colorR,this.colorG,this.colorB,this.colorA],n.diffuseColor=this.color,n.ambientColor=[0,0,0,1],n.specularColor=[1,0,0,1]}};Ie.TypeName="second",Ie.Properties={test:{type:j.Int,default:1},colorR:{type:j.Float,default:1},colorG:{type:j.Float,default:1},colorB:{type:j.Float,default:1},colorA:{type:j.Float,default:1}}});function ee(){return WL.scene}function sr(){return WL.onXRSessionStart}var Oe=I(()=>{});var Le,ar=I(()=>{Le=class{constructor(t){this._layerSize=t,this._layerData=new Array(this._layerSize);for(let n=0;n<this._layerSize;++n)this._layerData[n]=new Array(this._layerSize)}}});var ae,Ft=I(()=>{K();ar();ae=class{get gridSize(){return this._gridSize}get layerCount(){return this._layerCount}get cellSize(){return this._cellSize}constructor(t,n,r){this._gridSize=t,this._layerCount=n,this._cellSize=r,this._gridOffset=this._gridSize*this._cellSize/2,this._gridData=new Array(this._layerCount);for(let s=0;s<this._layerCount;++s)this._gridData[s]=new Le(this._gridSize);console.log(this._gridData)}getCellPositionVec3(t){return this.getCellPosition(t[0],t[1],t[2])}getCellPosition(t,n,r){let s=P.create();return s[1]=n*this._cellSize,s[0]=t*this._cellSize-this._gridOffset,s[2]=r*this._cellSize-this._gridOffset,s}getCellIndices(t,n,r){let s=P.create();return s[0]=Math.round((t+this._gridOffset)/this._cellSize),s[1]=Math.floor(n/this._cellSize),s[2]=Math.round((r+this._gridOffset)/this._cellSize),s}}});var or={};N(or,{default:()=>ve});var ve,cr=I(()=>{Z();Oe();Ft();ve=class extends W{start(){this._grid=new ae(2,10,.5);let n=this.debugVisualObject.getComponent("mesh"),r=ee(),s=25/2;for(let o=0;o<this._grid.layerCount;++o)for(let c=0;c<this._grid.gridSize;++c)for(let h=0;h<this._grid.gridSize;++h){let _=r.addObject(this.object);_.addComponent("mesh",{mesh:n.mesh,material:n.material}),_.resetTranslation(),_.translate(this._grid.getCellPosition(c,o,h));let f=this._grid.cellSize;_.scale([f,f,f])}}};ve.TypeName="grid-debug-component",ve.Properties={debugVisualObject:{type:j.Object,default:null}}});var Pe,lr=I(()=>{Pe=class{get isPressed(){return this._isPressed}get wasPressed(){return this._wasPressed}constructor(t,n){this._gamepadButton=t,this._index=n,this._isPressed=!1,this._wasPressed=!1,this._onPressedEvent=new Array,this._onReleasedEvent=new Array}update(){if(this._isPressed=this._gamepadButton.pressed,this._isPressed&&!this._wasPressed){for(let t of this._onPressedEvent)t(this);this._wasPressed=!0}if(!this._isPressed&&this._wasPressed){for(let t=0;t<this._onReleasedEvent.length;t++)this._onReleasedEvent[t](this);this._wasPressed=!1}}addPressedListener(t){return this._onPressedEvent.push(t)}addReleasedListener(t){return this._onReleasedEvent.push(t)}removePressedListener(t){this._onPressedEvent.splice(t,1)}removeReleasedListener(t){this._onReleasedEvent.splice(t,1)}clearPressedListeners(){this._onPressedEvent=new Array}clearReleasedListeners(){this._onReleasedEvent=new Array}}});var kt=I(()=>{});var Ee,hr=I(()=>{lr();kt();Ee=class{get hand(){return this._hand}constructor(t,n){this.setup(t,n)}setup(t,n){this._gamepad=t,this._hand=n,this.initButtons()}update(){for(let t of this._buttons.keys())this._buttons.get(t).update()}getButton(t){return this._buttons.get(t)}initButtons(){let t=[0,1,4,5];this._buttons!=null&&(this._buttons.clear(),this._buttons=null),this._buttons=new Map;for(let n=0;n<t.length;++n){let r=t[n],s=this._gamepad.buttons[r],o=new Pe(s,r);this._buttons.set(r,o)}}}});var _r=I(()=>{});var Wt,Ce,Dt=I(()=>{Ft();Wt=class{get grid(){return this._grid}constructor(t,n,r){this._grid=new ae(t,n,r)}},Ce=new Wt(30,10,.25)});var Ht,Ke,Bt=I(()=>{Ht=class{constructor(){this._prefabs=new Map}registerPrefab(t){let n=t.getPrefabUniqueName();if(this._prefabs.has(n))throw new Error("Can't register the same prefab twice: "+n);this._prefabs.set(n,t)}getPrefab(t){return this._prefabs.has(t.TypeName)?this._prefabs.get(t.TypeName):null}removePrefab(t){this._prefabs.has(t.TypeName)&&this._prefabs.delete(t.TypeName)}},Ke=new Ht});var oe,dr=I(()=>{Z();K();Oe();Dt();oe=class extends W{start(){this._scene=ee(),this._cellSize=Ce.grid.cellSize}createPrevisObject(){this._previsObject=this._scene.addObject(null),this._previsObject.translateWorld([0,0,0]);let n=this._scene.addObject(this._previsObject);n.translateObject([0,this._cellSize/2,0]),n.addComponent("mesh",{mesh:this.previsMesh,material:this.previsMat})}createBlock(n){let r=this._scene.addObject(null);r.translateWorld(n);let s=this._scene.addObject(r);s.translateObject([0,this._cellSize/2,0]),s.addComponent("mesh",{mesh:this.finalMesh,material:this.finalMat});let o=this._cellSize/2+.001;return s.addComponent("collision",{collider:We.AxisAlignedBox,extents:[o,o,o],group:1}),r}updatePrevisPosition(n){this._previsObject.setTranslationWorld(n);let r=P.create();this._previsObject.getTranslationWorld(r)}};oe.TypeName="",oe.Properties={finalMesh:{type:j.Mesh},previsMesh:{type:j.Mesh},finalMat:{type:j.Material},previsMat:{type:j.Material}}});var fr={};N(fr,{default:()=>te});var zt,te,Ut=I(()=>{Z();dr();Bt();zt=class extends oe{getPrefabUniqueName(){return zt.TypeName}start(){super.start(),Ke.registerPrefab(this),this.createPrevisObject()}},te=zt;te.TypeName="block-prefab",te.Properties={finalMesh:{type:j.Mesh},previsMesh:{type:j.Mesh},finalMat:{type:j.Material},previsMat:{type:j.Material}}});var pr={};N(pr,{default:()=>ne});var ne,Nt=I(()=>{Z();K();Oe();Dt();Bt();Ut();ne=class extends W{get currentCellIndices(){return this._currentCellIndices}get currentCellWorldPos(){return this._currentCellWorldPos}get currentPrefab(){return this.pointerObject}start(){this._scene=ee(),setTimeout(()=>{this.pointerObject=Ke.getPrefab(te)},1e3),this._rayMesh=this.rayVisualObject.getComponent("mesh"),this._rayMesh.material.diffuseColor=Te.create(),this.rayVisualObject.translate([0,0,-.5]),this._origin=[0,0,0],this._direction=[0,0,0]}update(n){this.rayOrigin.getTranslationWorld(this._origin),this.rayOrigin.getForward(this._direction);let r=this._scene.rayCast(this._origin,this._direction,1);if(r.hitCount>0){let s=r.locations[0];this.processRayStretch(s),this.cursorHitVisualObject.setTranslationWorld(s),this._currentCellIndices=Ce.grid.getCellIndices(s[0],s[1],s[2]),this._currentCellWorldPos=Ce.grid.getCellPositionVec3(this._currentCellIndices),this.pointerObject.updatePrevisPosition(this._currentCellWorldPos)}else this.rayObject.resetScaling(),this.pointerObject.updatePrevisPosition([0,-5,0]),this.cursorHitVisualObject.setTranslationWorld([0,-5,0])}processRayStretch(n){let r=P.create();r[0]=this._origin[0],r[1]=this._origin[1],r[2]=this._origin[2];let s=P.distance(r,n);this.rayObject.resetScaling(),this.rayObject.scale([1,s-.2,1])}};ne.TypeName="pointer-ray",ne.Properties={rayOrigin:{type:j.Object},rayObject:{type:j.Object},rayVisualObject:{type:j.Object},cursorHitVisualObject:{type:j.Object}}});var ur={};N(ur,{default:()=>ge});var ge,mr=I(()=>{Z();Oe();hr();_r();Nt();kt();ge=class extends W{start(){if(this._scene=ee(),this.pointerMode=0,this.inputObject===null)throw new Error("Input Object must be defined");if(this._inputComponent=this.inputObject.getComponent("input"),this._hand=this._inputComponent.handedness,this.pointerRay===null)throw new Error("Pointer Ray Object must be defined");this._pointerRayComponent=this.pointerRay.getComponent(ne),sr().push(this.onXrSessionStart.bind(this))}update(n){this._xrGamepad!=null&&this._xrGamepad.update()}onXrSessionStart(n){this.inputSourcesSetup(n)}inputSourcesSetup(n){for(let r=0;r<n.inputSources.length;++r){let s=n.inputSources[r];s.handedness===this._hand&&this.setupXrGamepad(s.gamepad)}n.addEventListener("inputsourceschange",this.onXrInputSourceChangeHandler.bind(this))}setupXrGamepad(n){this._xrGamepad=new Ee(n,this._hand),this._xrGamepad.getButton(0).addPressedListener(this.onPlacementTriggerPressed.bind(this))}onXrInputSourceChangeHandler(n){for(let r=0;r<n.added.length;++r){let s=n.added[r];s.handedness===this._hand&&this.setupXrGamepad(s.gamepad)}}onPlacementTriggerPressed(){let n=this._pointerRayComponent.currentPrefab;n!=null&&n.createBlock(this._pointerRayComponent.currentCellWorldPos)}};ge.TypeName="XR-Controller",ge.Properties={pointerMode:{type:j.Int,default:0},inputObject:{type:j.Object,default:null},pointerRay:{type:j.Object,default:null}}});Z();on();cn();Nn();Vn();Xn();qn();Gn();Yn();Zn();Qn();Jn();var La=(nr(),B(tr)).default,Pa=(ir(),B(rr)).SecondTestComponent,Ea=(cr(),B(or)).default,Ca=(mr(),B(ur)).default,Ra=(Nt(),B(pr)).default,Fa=(Ut(),B(fr)).default;WL.registerComponent(La);WL.registerComponent(Pa);WL.registerComponent(Ea);WL.registerComponent(Ca);WL.registerComponent(Ra);WL.registerComponent(Fa);})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=wonderbrick-bundle.js.map
